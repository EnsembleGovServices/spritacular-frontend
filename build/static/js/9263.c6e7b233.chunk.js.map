{"version":3,"file":"static/js/9263.c6e7b233.chunk.js","mappings":"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","sources":["components/ReactCountryFlag.jsx","components/Upload/ImageUpload.js","components/Upload/LazyLoad.js","hooks/useObservations.js","pages/Observation/Observations.jsx","pages/Profile.jsx","../node_modules/react-country-flag/src/index.tsx"],"sourcesContent":["import ReactCountryFlag from \"react-country-flag\";\nconst ReactCountryFlags = ({country}) => {\n    return(\n\n        <ReactCountryFlag\n            countryCode={country}\n            svg\n            style={{\n                width: '1.5em',\n                height: '1.5em',\n            }}\n            title={country}\n        />\n    );\n}\nexport default ReactCountryFlags;","import React, {useCallback, useEffect, useState} from \"react\";\nimport axios from \"../../api/axios\";\nimport PropTypes from \"prop-types\";\nimport {baseURL} from \"../../helpers/url\";\nimport useAuth from \"../../hooks/useAuth\";\nimport {Button} from \"reactstrap\";\nimport { Icon } from '@iconify/react';\nimport LazyLoad from \"./LazyLoad\";\n\nconst ImageUpload = (props) => {\n  const { setAuth } = useAuth();\n  const { user, token } = props;\n  const [file, setFile] = useState(\"\");\n  const [data, setData] = useState(\"\");\n  const [progress, setProgress] = useState(\"0\");\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => {\n    const file = e.target.files[0];\n    setFile(file);\n    setProgress('0')\n  };\n    const fileUpload = useCallback(async () => {\n        setError('');\n        const formData = new FormData();\n        formData.append(\"profile_image\", file);\n        await axios.patch(baseURL.api + \"/users/user_profile/\" + user?.id + \"/\", formData, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n            },\n            withCredentials: true,\n            onUploadProgress: (ProgressEvent) => {\n                let progressBar = Math.round((ProgressEvent.loaded / ProgressEvent.total) * 100) + \"%\";\n                setProgress(progressBar);\n            },\n        }).then((response) => {\n            setData(response.data);\n            setAuth(prev => {\n                return {\n                    ...prev,\n                    user: {\n                        ...user,\n                        profile_image: response?.data?.profile_image.replace(baseURL.remote, \"\"),\n                    }\n                }\n            });\n        }).catch((error) => {\n            setError(error.response);\n        })\n    }, [file]);\n\n    useEffect(() => {\n        if (file) {\n            fileUpload().then(r => r);\n        }\n    }, [file, fileUpload]);\n\n\n    const ProfilePreview = () =>{\n      return(\n        <>\n          <label className=\"form-label-border\">\n              <LazyLoad\n                  src={user?.profile_image}\n                  alt={user?.first_name}\n              />\n          </label>\n          <Button className=\"edit-btn\"><Icon icon=\"lucide:edit-2\" /></Button>\n          <input type=\"file\" name=\"profile_image\" onChange={handleChange} />\n        </>\n      )\n    }\n    const ProfileLoader = () =>{\n      return(\n        <>\n          <div className='progressBar' style={{ \"--percentage\": progress }}>\n              <div className=\"wrapper\">\n                <b>{progress}</b>\n                <span>uploading..</span>\n              </div>\n          </div>\n        </>\n      )\n    }\n    const ProfileUploadText = () =>{\n      return(\n        <>\n          <div className='form-label'>\n              <div className=\"wrapper\">\n                <span>Please upload your image</span>\n                <input type=\"file\" name=\"profile_image\" onChange={handleChange} />\n              </div>\n          </div>\n        </>\n      )\n    }\n    \n  return (\n    <>\n      <div className=\"user-profile-upload\">\n        {data ? (\n          <>\n            {progress > \"1\" && !error && progress !== \"100%\" ? (\n              <ProfileLoader />\n            ) : (\n              <ProfilePreview />\n            )}\n          </>\n        ) : (\n          <>\n          {user?.profile_image ? (\n            <>\n            {progress > \"1\"  && progress !== \"100%\" ? (\n              <ProfileLoader />\n            ) : (\n              <ProfilePreview />\n            )}\n          </>\n          ) : (\n            <>\n            {progress > \"1\" && error?.status !== 400 ? (\n              < ProfileLoader />\n            ) : (\n              <ProfileUploadText />\n            )\n\n            }\n            </>\n          )}\n            \n          </>\n        )}\n      </div>\n\n      <>\n        {error?.data &&\n          error.data.profile_image.map((error, i) => {\n            return (\n              <span key={i} className=\"text-danger small\">\n                {error}\n              </span>\n            );\n          })}\n      </>\n    </>\n  );\n};\nImageUpload.propTypes = {\n  progress: PropTypes.number,\n};\n\nexport default ImageUpload;\n","import {useEffect, useState} from \"react\";\nimport {placeholder} from \"./placeholder\";\n\nconst LazyLoad = (props) => {\n    const {src, alt, imageClass, converted} = props;\n    const [imageSrc, setImageSrc] = useState(null)\n    const [imageRef, setImageRef] = useState('')\n\n    const onLoad = (event) => {\n        event.target.classList.add('loaded')\n    }\n    const onError = (event) => {\n        event.target.classList.add('has-error')\n    }\n\n    useEffect(() => {\n        let observer\n        let didCancel = false\n\n        if (imageRef && imageSrc !== src) {\n            if (IntersectionObserver) {\n                observer = new IntersectionObserver(\n                    (entries) => {\n                        entries.forEach((entry) => {\n                            if (\n                                !didCancel &&\n                                (entry.intersectionRatio > 0 || entry.isIntersecting)\n                            ) {\n                                setImageSrc(src)\n                                observer.unobserve(imageRef)\n                            }\n                        })\n                    },\n                    {\n                        threshold: 0.01,\n                        rootMargin: '75%',\n                    }\n                )\n                observer.observe(imageRef)\n            } else {\n                setImageSrc(src)\n            }\n        }\n        return () => {\n            didCancel = true\n            if (observer && observer.unobserve) {\n                observer.unobserve(imageRef)\n            }\n        }\n    }, [src, imageSrc, imageRef, converted])\n\n    return (\n        <>\n            <img\n                className={imageClass ? imageClass + ' img-fluid' : 'img-fluid'}\n                ref={setImageRef}\n                src={imageSrc}\n                alt={alt}\n                onLoad={onLoad}\n                onError={onError}\n            />\n        </>\n    )\n}\n\nexport default LazyLoad;","import {useContext, useDebugValue} from \"react\";\nimport {ObservationContext} from \"../pages/Observation/Observations\";\n\nconst useObservations = () => {\n    const { observationImages } = useContext(ObservationContext);\n    // useDebugValue(observationSteps, observationSteps => observationSteps ? 'Steps set' : \"Steps not set\")\n    useDebugValue(observationImages, observationImages => observationImages?.data ? 'Images set' : \"Images not set\")\n    return useContext(ObservationContext);\n}\n\nexport default useObservations;","import { Outlet } from \"react-router-dom\";\nimport {createContext, useEffect, useState} from \"react\";\nimport { cameraSettingFields } from \"../../helpers/url\";\n\nexport const ObservationContext = createContext({});\n\nconst Observations = () => {\n    const [observationType, setObservationType] = useState({\n        image_type: 1\n    });\n\n    const [observationSteps, setObservationSteps] = useState({\n        total: 3,\n        active: 1,\n        mode: {\n            update: false\n        }\n    });\n    const [observationImages, setObservationImages] = useState([]);\n    const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\n    const [observationCategory, setObservationCategory] = useState([]);\n    const [observationData, setObservationData] = useState({});\n\n    useEffect(()=> {\n        let data = (observationImages?.data) ? [...observationImages?.data] : []\n        setObservationData({\n            // is_draft: observationSteps?.is_draft ? 1 : 0,\n            image_type: observationType?.image_type,\n            map_data: data,\n            elevation_angle: null,\n            video_url : ''\n        })\n    }, [observationImages?.data, observationSteps?.is_draft, observationType?.image_type])\n\n    return(\n        <ObservationContext.Provider value={\n            {\n                observationType,\n                setObservationType,\n                observationSteps,\n                setObservationSteps,\n                observationImages,\n                setObservationImages,\n                observationCategory,\n                setObservationCategory,\n                observationData,\n                setObservationData,\n                cameraDetails, \n                setCameraDetails\n            }\n        }>\n            <Outlet />\n        </ObservationContext.Provider>\n    )\n}\n\nexport default Observations;","import {\n  Container,\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport {Suspense, lazy, useEffect} from 'react';\nimport classnames from \"classnames\";\nimport {useState} from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nimport \"../assets/scss/component/camerasettings.scss\";\nimport ImageUpload from \"../components/Upload/ImageUpload\";\nimport {cameraSettingFields} from \"../helpers/url\";\nimport ReactCountryFlags from \"../components/ReactCountryFlag\";\nimport useObservations from \"../hooks/useObservations\";\n\nconst UpdateProfile = lazy(()=> import('../components/Account/UpdateProfile'))\nconst CameraSetting = lazy(()=> import('../components/Account/CameraSetting'))\nconst ChangePassword = lazy(()=> import('../components/Account/ChangePassword'))\n\n\nconst Profile = () => {\n  const { auth } = useAuth();\n  const [user, setUser] = useState(auth?.user);\n  const [activeTab, setActiveTab] = useState(\"1\");\n  // const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\n  const {\n    cameraDetails, \n    setCameraDetails\n} = useObservations();\n  const [isDetailExist, setIsDetailExist] = useState(false);\n\n  const toggleTab = (tab) => {\n    if (activeTab !== tab) {\n      if(tab === '2'){\n        fetchCameraDetails().then(r => r);\n      }\n      setActiveTab(tab);\n    }\n  };\n  const fetchCameraDetails = async () => {\n    if (auth?.user?.camera) {\n      setIsDetailExist(true);\n      setCameraDetails(auth?.user?.camera);\n    } else {\n      setIsDetailExist(false);\n    }\n  }\n  \n\n\n  useEffect(()=> {\n    setUser(auth?.user);\n    if (auth?.user?.camera) {\n      setIsDetailExist(true);\n    }\n  }, [auth])\n\n  return (\n    <>\n      <section className=\"common-banner\">\n        <Container>\n          <div className=\"banner-inner\" />\n        </Container>\n      </section>\n      <section className=\"setting-main\">\n        <div className=\"setting-inner\">\n          <Container>\n            <Row>\n              <Col md={4}>\n                <div className=\"profile-left-tab\">\n                  <div className=\"profile-info\">\n                    <div className=\"profile-img\">\n                      <ImageUpload user={user} token={auth?.token?.access}/>\n                    </div>\n                    <div className=\"profile-data text-center\">\n                      <h5>{user?.first_name} {user?.last_name}</h5>\n                      <p>{user?.email}</p>\n                      <div className=\"d-flex align-items-center justify-content-center\">\n                        <ReactCountryFlags country={user?.country_code} />\n                        <span>{user?.location}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <Nav tabs className=\"flex-column\">\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"1\" })}\n                        onClick={() => {\n                          toggleTab(\"1\");\n                        }}\n                      >\n                        Update Profile\n                      </NavLink>\n                    </NavItem>\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"2\" })}\n                        onClick={() => {\n                          toggleTab(\"2\");\n                        }}\n                      >\n                        Camera Settings\n                      </NavLink>\n                    </NavItem>\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"3\" })}\n                        onClick={() => {\n                          toggleTab(\"3\");\n                        }}\n                      >\n                        Change Password\n                      </NavLink>\n                    </NavItem>\n                  </Nav>\n                </div>\n              </Col>\n              <Col md={8}>\n                <div className=\"profile-right-tab\">\n                  <TabContent activeTab={activeTab}>\n                    <TabPane tabId=\"1\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Update Profile</h4>\n                        </Col>\n\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <UpdateProfile user={auth} />\n                          </Suspense>\n                        </Col>\n                      </Row>\n                    </TabPane>\n                    <TabPane tabId=\"2\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Camera Settings</h4>\n                        </Col>\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <CameraSetting cameraDetails={cameraDetails} user={auth} isDetailExist={isDetailExist}/>\n                          </Suspense>\n                        </Col>\n                      </Row>\n                     \n                    </TabPane>\n                    <TabPane tabId=\"3\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Change Password</h4>\n                        </Col>\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <ChangePassword user={auth} />\n                          </Suspense>\n                        </Col>\n                      </Row>\n                    </TabPane>\n                  </TabContent>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </section>\n    </>\n  );\n};\nexport default Profile;\n","import * as React from 'react';\n\nconst DEFAULT_CDN_URL =\n  'https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.4/flags/4x3/';\nconst DEFAULT_CDN_SUFFIX = 'svg';\n\n// offset between uppercase ascii and regional indicator symbols\nconst OFFSET = 127397;\n\ninterface EmojiProps extends React.HTMLAttributes<HTMLSpanElement> {\n  cdnSuffix?: string;\n  cdnUrl?: string;\n  countryCode: string;\n  style?: React.CSSProperties;\n  svg?: false;\n}\n\ninterface ImgProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  cdnSuffix?: string;\n  cdnUrl?: string;\n  countryCode: string;\n  style?: React.CSSProperties;\n  svg?: true;\n}\n\nexport type ReactCountryFlagProps = EmojiProps | ImgProps;\n\nexport const ReactCountryFlag = ({\n  cdnSuffix = DEFAULT_CDN_SUFFIX,\n  cdnUrl = DEFAULT_CDN_URL,\n  countryCode,\n  style,\n  svg = false,\n  ...props\n}: ReactCountryFlagProps) => {\n  if (typeof countryCode !== 'string') {\n    return null;\n  }\n\n  if (svg) {\n    const flagUrl = `${cdnUrl}${countryCode.toLowerCase()}.${cdnSuffix}`;\n\n    return (\n      <img\n        {...props}\n        src={flagUrl}\n        style={{\n          display: 'inline-block',\n          width: '1em',\n          height: '1em',\n          verticalAlign: 'middle',\n          ...style,\n        }}\n      />\n    );\n  }\n\n  const emoji = countryCode\n    .toUpperCase()\n    .replace(/./g, char => String.fromCodePoint(char.charCodeAt(0) + OFFSET));\n\n  return (\n    <span\n      role=\"img\"\n      {...props}\n      style={{\n        display: 'inline-block',\n        fontSize: '1em',\n        lineHeight: '1em',\n        verticalAlign: 'middle',\n        ...style,\n      }}\n    >\n      {emoji}\n    </span>\n  );\n};\n\nexport default ReactCountryFlag;\n"],"names":["country","countryCode","svg","style","width","height","title","props","setAuth","useAuth","user","token","useState","file","setFile","data","setData","progress","setProgress","error","setError","handleChange","e","target","files","fileUpload","useCallback","formData","FormData","append","axios","baseURL","id","headers","Authorization","withCredentials","onUploadProgress","ProgressEvent","progressBar","Math","round","loaded","total","then","response","prev","profile_image","replace","catch","useEffect","r","ProfilePreview","className","src","alt","first_name","icon","type","name","onChange","ProfileLoader","ProfileUploadText","status","map","i","imageClass","converted","imageSrc","setImageSrc","imageRef","setImageRef","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","ref","onLoad","event","classList","add","onError","observationImages","useContext","ObservationContext","useDebugValue","createContext","image_type","observationType","setObservationType","active","mode","update","observationSteps","setObservationSteps","setObservationImages","cameraSettingFields","cameraDetails","setCameraDetails","observationCategory","setObservationCategory","observationData","setObservationData","map_data","elevation_angle","video_url","is_draft","Provider","value","UpdateProfile","lazy","CameraSetting","ChangePassword","auth","setUser","activeTab","setActiveTab","useObservations","isDetailExist","setIsDetailExist","toggleTab","tab","fetchCameraDetails","camera","md","ImageUpload","access","last_name","email","ReactCountryFlag","country_code","location","tabs","classnames","onClick","tabId","sm","Suspense","fallback","cdnSuffix","DEFAULT_CDN_SUFFIX","cdnUrl","DEFAULT_CDN_URL","_ref$svg","flagUrl","toLowerCase","React","display","verticalAlign","emoji","toUpperCase","String","fromCodePoint","char","charCodeAt","role","fontSize","lineHeight"],"sourceRoot":""}