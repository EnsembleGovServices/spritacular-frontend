{"version":3,"file":"static/js/9263.92d913db.chunk.js","mappings":"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","sources":["hooks/useObservations.js","pages/Observation/Observations.jsx","pages/Profile.jsx"],"sourcesContent":["import {useContext, useDebugValue} from \"react\";\nimport {ObservationContext} from \"../pages/Observation/Observations\";\n\nconst useObservations = () => {\n    const { observationImages } = useContext(ObservationContext);\n    // useDebugValue(observationSteps, observationSteps => observationSteps ? 'Steps set' : \"Steps not set\")\n    useDebugValue(observationImages, observationImages => observationImages?.data ? 'Images set' : \"Images not set\")\n    return useContext(ObservationContext);\n}\n\nexport default useObservations;","import { Outlet } from \"react-router-dom\";\nimport {createContext, useEffect, useState} from \"react\";\nimport { cameraSettingFields } from \"../../helpers/url\";\n\nexport const ObservationContext = createContext({});\n\nconst Observations = () => {\n    const [observationType, setObservationType] = useState({\n        image_type: 1\n    });\n\n    const [observationSteps, setObservationSteps] = useState({\n        total: 3,\n        active: 1,\n        mode: {\n            update: false\n        }\n    });\n    const [observationImages, setObservationImages] = useState([]);\n    const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\n    const [observationCategory, setObservationCategory] = useState([]);\n    const [observationData, setObservationData] = useState({});\n\n    useEffect(()=> {\n        let data = (observationImages?.data) ? [...observationImages?.data] : []\n        setObservationData({\n            // is_draft: observationSteps?.is_draft ? 1 : 0,\n            image_type: observationType?.image_type,\n            map_data: data,\n            elevation_angle: null,\n            video_url : ''\n        })\n    }, [observationImages?.data, observationSteps?.is_draft, observationType?.image_type])\n\n    return(\n        <ObservationContext.Provider value={\n            {\n                observationType,\n                setObservationType,\n                observationSteps,\n                setObservationSteps,\n                observationImages,\n                setObservationImages,\n                observationCategory,\n                setObservationCategory,\n                observationData,\n                setObservationData,\n                cameraDetails, \n                setCameraDetails\n            }\n        }>\n            <Outlet />\n        </ObservationContext.Provider>\n    )\n}\n\nexport default Observations;","import {\n  Container,\n  TabContent,\n  TabPane,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport {Suspense, lazy, useEffect} from 'react';\nimport classnames from \"classnames\";\nimport {useState} from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nimport \"../assets/scss/component/camerasettings.scss\";\nimport ImageUpload from \"../components/Upload/ImageUpload\";\nimport {cameraSettingFields} from \"../helpers/url\";\nimport ReactCountryFlags from \"../components/ReactCountryFlag\";\nimport useObservations from \"../hooks/useObservations\";\n\nconst UpdateProfile = lazy(()=> import('../components/Account/UpdateProfile'))\nconst CameraSetting = lazy(()=> import('../components/Account/CameraSetting'))\nconst ChangePassword = lazy(()=> import('../components/Account/ChangePassword'))\n\n\nconst Profile = () => {\n  const { auth } = useAuth();\n  const [user, setUser] = useState(auth?.user);\n  const [activeTab, setActiveTab] = useState(\"1\");\n  // const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\n  const {\n    cameraDetails, \n    setCameraDetails\n} = useObservations();\n  const [isDetailExist, setIsDetailExist] = useState(false);\n\n  const toggleTab = (tab) => {\n    if (activeTab !== tab) {\n      if(tab === '2'){\n        fetchCameraDetails().then(r => r);\n      }\n      setActiveTab(tab);\n    }\n  };\n  const fetchCameraDetails = async () => {\n    if (auth?.user?.camera) {\n      setIsDetailExist(true);\n      setCameraDetails(auth?.user?.camera);\n    } else {\n      setIsDetailExist(false);\n    }\n  }\n  \n\n\n  useEffect(()=> {\n    setUser(auth?.user);\n    if (auth?.user?.camera) {\n      setIsDetailExist(true);\n    }\n  }, [auth])\n\n  return (\n    <>\n      <section className=\"common-banner\">\n        <Container>\n          <div className=\"banner-inner\" />\n        </Container>\n      </section>\n      <section className=\"setting-main\">\n        <div className=\"setting-inner\">\n          <Container>\n            <Row>\n              <Col md={4}>\n                <div className=\"profile-left-tab\">\n                  <div className=\"profile-info\">\n                    <div className=\"profile-img\">\n                      <ImageUpload user={user} token={auth?.token?.access}/>\n                    </div>\n                    <div className=\"profile-data text-center\">\n                      <h5>{user?.first_name} {user?.last_name}</h5>\n                      <p>{user?.email}</p>\n                      <div className=\"d-flex align-items-center justify-content-center\">\n                        <ReactCountryFlags country={user?.country_code} />\n                        <span>{user?.location}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <Nav tabs className=\"flex-column\">\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"1\" })}\n                        onClick={() => {\n                          toggleTab(\"1\");\n                        }}\n                      >\n                        Update Profile\n                      </NavLink>\n                    </NavItem>\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"2\" })}\n                        onClick={() => {\n                          toggleTab(\"2\");\n                        }}\n                      >\n                        Camera Settings\n                      </NavLink>\n                    </NavItem>\n                    <NavItem>\n                      <NavLink\n                        className={classnames({ active: activeTab === \"3\" })}\n                        onClick={() => {\n                          toggleTab(\"3\");\n                        }}\n                      >\n                        Change Password\n                      </NavLink>\n                    </NavItem>\n                  </Nav>\n                </div>\n              </Col>\n              <Col md={8}>\n                <div className=\"profile-right-tab\">\n                  <TabContent activeTab={activeTab}>\n                    <TabPane tabId=\"1\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Update Profile</h4>\n                        </Col>\n\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <UpdateProfile user={auth} />\n                          </Suspense>\n                        </Col>\n                      </Row>\n                    </TabPane>\n                    <TabPane tabId=\"2\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Camera Settings</h4>\n                        </Col>\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <CameraSetting cameraDetails={cameraDetails} user={auth} isDetailExist={isDetailExist}/>\n                          </Suspense>\n                        </Col>\n                      </Row>\n                     \n                    </TabPane>\n                    <TabPane tabId=\"3\">\n                      <Row>\n                        <Col sm=\"12\">\n                          <h4>Change Password</h4>\n                        </Col>\n                        <Col md=\"12\">\n                          <Suspense fallback={<div>Loading...</div>}>\n                            <ChangePassword user={auth} />\n                          </Suspense>\n                        </Col>\n                      </Row>\n                    </TabPane>\n                  </TabContent>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </section>\n    </>\n  );\n};\nexport default Profile;\n"],"names":["observationImages","useContext","ObservationContext","useDebugValue","data","createContext","useState","image_type","observationType","setObservationType","total","active","mode","update","observationSteps","setObservationSteps","setObservationImages","cameraSettingFields","cameraDetails","setCameraDetails","observationCategory","setObservationCategory","observationData","setObservationData","useEffect","map_data","elevation_angle","video_url","is_draft","Provider","value","UpdateProfile","lazy","CameraSetting","ChangePassword","auth","useAuth","user","setUser","activeTab","setActiveTab","useObservations","isDetailExist","setIsDetailExist","toggleTab","tab","fetchCameraDetails","then","r","camera","className","md","ImageUpload","token","access","first_name","last_name","email","ReactCountryFlag","country","country_code","location","tabs","classnames","onClick","tabId","sm","Suspense","fallback"],"sourceRoot":""}