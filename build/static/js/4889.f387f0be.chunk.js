"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[4889,2048],{22048:function(n,e,s){s.r(e);var r=s(4942),l=s(1413),o=s(15861),d=s(70885),a=s(87757),i=s.n(a),t=s(72791),c=s(7788),u=s(74569),p=s.n(u),h=s(74551),v=s(52007),x=s.n(v),m=s(46971),j=s(80184);m.Z.propTypes={passwordMatchCheck:x().bool},e.default=function(n){var e,s=n.user,a=(0,t.useState)(null),u=(0,d.Z)(a,2),v=u[0],x=u[1],m=(0,t.useState)(!1),f=(0,d.Z)(m,2),w=f[0],b=f[1],g=(0,t.useState)(null),C=(0,d.Z)(g,2),Z=C[0],k=C[1],_=function(){var n=(0,o.Z)(i().mark((function n(e){var r,l;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),k(""),b(""),n.next=5,p().put(h.v2.api+"/users/change-password/"+(null===s||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id)+"/",v,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===s||void 0===s||null===(l=s.token)||void 0===l?void 0:l.access)},withCredentials:!0}).then((function(n){b(null===n||void 0===n?void 0:n.data),k("")})).catch((function(n){var e;k(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.data)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(n){n.preventDefault();var e=n.target.name,s=n.target.value;x((0,l.Z)((0,l.Z)({},v),{},(0,r.Z)({},e,s)))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.l0,{onSubmit:_,children:(0,j.jsxs)(c.X2,{children:[(0,j.jsxs)(c.JX,{sm:12,children:[(null===Z||void 0===Z?void 0:Z.detail)&&(0,j.jsx)(c.bZ,{color:"danger",children:null===Z||void 0===Z?void 0:Z.detail}),(null===Z||void 0===Z?void 0:Z.details)&&(0,j.jsx)(c.bZ,{color:"danger",children:(0,j.jsx)("ul",{className:"small mb-0 ps-2",children:null===Z||void 0===Z?void 0:Z.details.map((function(n,e){return(0,j.jsx)("li",{children:n},e)}))})}),w&&(0,j.jsx)(c.bZ,{color:"success",children:null===w||void 0===w?void 0:w.message})]}),(0,j.jsx)(c.JX,{md:12,children:(0,j.jsx)(c.cw,{children:(0,j.jsx)(c.II,{type:"password",name:"old_password",placeholder:"Old Password",required:!0,onChange:function(n){return y(n)}})})}),(0,j.jsx)(c.JX,{md:12,children:(0,j.jsx)(c.cw,{children:(0,j.jsx)(c.II,{type:"password",name:"new_password",placeholder:"New Password",required:!0,onChange:function(n){return y(n)}})})}),(0,j.jsx)(c.JX,{md:12,children:(0,j.jsxs)(c.cw,{children:[(0,j.jsx)(c.II,{type:"password",name:"confirm_password",placeholder:"Confirm New Password",required:!0,onChange:function(n){return y(n)}}),(null===Z||void 0===Z?void 0:Z.new_password)&&(0,j.jsx)("span",{className:"text-danger small mt-2 d-block",children:null===Z||void 0===Z||null===(e=Z.new_password)||void 0===e?void 0:e.map((function(n,e){return(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:n}),(0,j.jsx)("br",{})]},e)}))})]})}),(0,j.jsx)(c.JX,{md:12,children:(0,j.jsx)(c.zx,{type:"submit",className:"modal-btn mb-3",disabled:(null===v||void 0===v?void 0:v.confirm_password)!==(null===v||void 0===v?void 0:v.new_password)||""===(null===v||void 0===v?void 0:v.old_password),children:"Update Password"})})]})})})}},46971:function(n,e,s){var r=s(7788),l=s(47604),o=(s(37084),s(72791)),d=s(80184),a=(0,o.lazy)((function(){return s.e(2048).then(s.bind(s,22048))}));e.Z=function(n){var e=n.open,s=n.handleClose,i=n.modalClass,t=n.data;return(0,d.jsxs)(r.u_,{className:i||"common-modal",isOpen:e,toggle:s,centered:!0,backdrop:!0,keyboard:!1,children:[(0,d.jsxs)(r.xB,{className:"text-center justify-content-center",children:["Change Password",(0,d.jsx)(r.zx,{className:"close-icon",onClick:function(){return s()},children:(0,d.jsx)("img",{src:l.Z.Modalcloseicon,alt:"close-icon"})})]}),(0,d.jsx)(r.fe,{children:(0,d.jsx)(o.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsx)(a,{user:t})})})]})}},37084:function(){}}]);
//# sourceMappingURL=4889.f387f0be.chunk.js.map