{"version":3,"file":"static/js/3562.2fb74097.chunk.js","mappings":"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","sources":["components/Shared/LoadMore.jsx","hooks/useObservations.js","hooks/useObservationsData.js","helpers/dashboard.js","pages/Dashboard/Dashboard.jsx","pages/Observation/Observations.jsx"],"sourcesContent":["import { Button} from 'reactstrap';\r\n\r\nexport const LoadMore = (props) => {\r\n    const {handleLoadMore} = props;\r\n    return (\r\n        <Button className='gray-outline-btn d-block mx-auto px-4 fw-normal' onClick={()=> handleLoadMore()}>Load more</Button>\r\n    )\r\n};","import {useContext, useDebugValue} from \"react\";\r\nimport {ObservationContext} from \"../pages/Observation/Observations\";\r\n\r\nconst useObservations = () => {\r\n    const { observationImages } = useContext(ObservationContext);\r\n    // useDebugValue(observationSteps, observationSteps => observationSteps ? 'Steps set' : \"Steps not set\")\r\n    useDebugValue(observationImages, observationImages => observationImages?.data ? 'Images set' : \"Images not set\")\r\n    return useContext(ObservationContext);\r\n}\r\n\r\nexport default useObservations;","import {useContext, useDebugValue} from \"react\";\r\nimport {observationViewContext} from \"../layouts/PersistLogin\";\r\n\r\nconst useObservationsData = () => {\r\n    const { observationListData } = useContext(observationViewContext);\r\n    useDebugValue(observationListData, observationListData => observationListData ? 'List data set' : \"Listing data not set\")\r\n    return useContext(observationViewContext);\r\n}\r\n\r\nexport default useObservationsData;","export const dashboardHelper = {\r\n    filterState: {\r\n        isCountryOpen:false,\r\n        isTypeOpen:false,\r\n        isStatusOpen:false,\r\n        isRateOpen:false,\r\n        isFOVOpen:false,\r\n        isLensTypeOpen:false,\r\n    },\r\n    horizontal: {\r\n        country: {\r\n            name:'',\r\n            code:''\r\n        },\r\n        type:'',\r\n        status:'',\r\n    },\r\n    vertical: {\r\n        from_obs_data: null,\r\n        to_obs_data: null,\r\n        obs_start_date: null,\r\n        obs_end_date: null,\r\n        obs_start_time: null,\r\n        obs_end_time: null,\r\n        camera_type: \"\",\r\n        fps: \"\",\r\n        iso: \"\",\r\n        fov: \"\",\r\n        shutter_speed: \"\",\r\n        lens_type: \"\",\r\n    },\r\n    nextPageUrl: '/observation/dashboard/?country=&category=&status='\r\n}","import \"../../assets/scss/component/dashboard.scss\";\r\nimport {lazy, Suspense, useEffect, useState} from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useObservationsData from \"../../hooks/useObservationsData\";\r\n\r\nimport useObservations from \"../../hooks/useObservations\";\r\nimport {LoadMore} from \"../../components/Shared/LoadMore\";\r\n\r\nimport axios from \"../../api/axios\";\r\nimport moment from \"moment\";\r\nimport {dashboardHelper} from \"../../helpers/dashboard\";\r\nimport {baseURL} from \"../../helpers/url\";\r\n\r\nconst NotFound = lazy(() =>\r\n    import(\"../../components/Common/NotFound\")\r\n);\r\nconst FilterSelectMenu = lazy(() =>\r\n    import(\"../../components/Shared/FilterSelectMenu\")\r\n);\r\nconst AdvancedFilter = lazy(() =>\r\n    import(\"../../components/Shared/AdvancedFilter\")\r\n);\r\nconst ObservationDetailPage = lazy(() =>\r\n    import(\"../Observation/ObservationListPage\")\r\n);\r\nconst ObservationListView = lazy(() =>\r\n    import(\"../Observation/ObservationListView\")\r\n);\r\nconst ObservationDetails = lazy(() =>\r\n    import(\"../Observation/ObservationDetails\")\r\n);\r\n\r\nconst Dashboard = () => {\r\n    const navigate = useNavigate();\r\n    const {auth} = useAuth();\r\n    const [isObservationDetailModal, setObservationDetailModal] = useState(false);\r\n    const [selectedObservationId, setSelectedObservationId] = useState();\r\n    const {setObservationData, setObservationSteps, setObservationImages} = useObservations();\r\n    const [filterShow, setFilterShow] = useState(true);\r\n    const [listView, setListView] = useState(false);\r\n    const [gridView, setGridView] = useState(true);\r\n\r\n    const [searchCountry, setSearchCountry] = useState(\"\");\r\n    const [isFilterOpen, setIsFilterOpen] = useState(dashboardHelper.filterState);\r\n    const [selectedFilterHorizontal, setSelectedFilterHorizontal] = useState(\r\n        dashboardHelper.horizontal\r\n    );\r\n    const [selectedFilterVertical, setSelectedFilterVertical] = useState(\r\n        dashboardHelper.vertical\r\n    );\r\n    const {observationListData, setObservationListData} = useObservationsData();\r\n    const [nextPageUrl, setNextPageUrl] = useState(dashboardHelper.nextPageUrl);\r\n    const [filterReset, setFilterReset] = useState(false);\r\n    const [loadedState, setLoadedState] = useState({loading: true, hasData: true});\r\n\r\n    const getObservationData = async (\r\n        reset = false,\r\n        country = `${selectedFilterHorizontal?.country?.code}`,\r\n        category = `${selectedFilterHorizontal?.type}`,\r\n        status = `${selectedFilterHorizontal?.status}`\r\n    ) => {\r\n        if (auth?.user?.is_superuser) {\r\n            let url;\r\n            if (reset === true || !nextPageUrl) {\r\n                url = `${baseURL.api}/observation/dashboard/?country=${country}&category=${category}&status=${status}&page=1`;\r\n            } else {\r\n                url = process.env.NODE_ENV === \"development\" ? nextPageUrl : nextPageUrl.replace('http', 'https');\r\n\r\n            }\r\n\r\n            if (selectedFilterVertical.obs_start_date !== null) {\r\n                if (selectedFilterVertical.obs_start_time !== null) {\r\n                    selectedFilterVertical.from_obs_data = moment(\r\n                        selectedFilterVertical.obs_start_date +\r\n                        \" \" +\r\n                        selectedFilterVertical.obs_start_time\r\n                    ).format(\"DD/MM/Y H:mm\");\r\n                } else {\r\n                    selectedFilterVertical.from_obs_data = moment(\r\n                        selectedFilterVertical.obs_start_date + \" 00:00\"\r\n                    ).format(\"DD/MM/Y HH:mm\");\r\n                }\r\n            }\r\n            if (selectedFilterVertical.obs_end_date !== null) {\r\n                if (selectedFilterVertical.obs_end_time !== null) {\r\n                    selectedFilterVertical.to_obs_data = moment(\r\n                        selectedFilterVertical.obs_end_date +\r\n                        \" \" +\r\n                        selectedFilterVertical.obs_end_time\r\n                    ).format(\"DD/MM/Y HH:mm\");\r\n                } else {\r\n                    selectedFilterVertical.to_obs_data = moment(\r\n                        selectedFilterVertical.obs_end_date + \" 23:59\"\r\n                    ).format(\"DD/MM/Y HH:mm\");\r\n                }\r\n            }\r\n\r\n            await axios.post(url, selectedFilterVertical, {\r\n                headers: {\r\n                    \"Content-type\": \"application/json\",\r\n                    Authorization: `Bearer ${auth?.token?.access}`,\r\n                },\r\n            }).then((response) => {\r\n                const resData = response?.data;\r\n                setFilterReset(false);\r\n                if (resData?.results?.data !== undefined) {\r\n                    if (resData?.next) {\r\n                        setNextPageUrl(response?.data?.next);\r\n                    } else {\r\n                        setNextPageUrl(null);\r\n                    }\r\n                    let records = resData?.results?.data;\r\n                    let prevData;\r\n\r\n                    if (observationListData?.list?.length > 0 && reset === false) {\r\n                        prevData = [...observationListData?.list];\r\n                        prevData = [...prevData, ...records];\r\n                    } else {\r\n                        prevData = resData?.results?.data;\r\n                    }\r\n                    setObservationListData((prev) => {\r\n                        return {\r\n                            ...prev,\r\n                            list: prevData,\r\n                        };\r\n                    });\r\n                    // Assign loading\r\n                    setLoadedState((prev) => {\r\n                        return {\r\n                            ...prev,\r\n                            loading: false,\r\n                            hasData: resData?.results?.data?.length > 0\r\n                        }\r\n                    })\r\n\r\n                } else {\r\n                    setNextPageUrl(null);\r\n                    setObservationListData({list: [], active: {}});\r\n                }\r\n                // setObservationList(success?.data?.results?.data)\r\n            }).catch((error) => {\r\n                console.log(error.response);\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleLoadMoreData = () => {\r\n        getObservationData(false).then(r => r);\r\n    };\r\n\r\n    const handleObservationDetailModal = (id) => {\r\n        setObservationDetailModal(!isObservationDetailModal);\r\n        setSelectedObservationId(id);\r\n    };\r\n    const cleaningUpObservationDataForDraftSaving = async (data) => {\r\n        setObservationImages([]);\r\n        setObservationData([]);\r\n        await updateStateForDraft(data);\r\n        return true;\r\n    };\r\n    const updateStateForDraft = (data) => {\r\n        setObservationSteps((prev) => {\r\n            return {\r\n                ...prev,\r\n                total: 3,\r\n                active: 1,\r\n                mode: {\r\n                    update: true,\r\n                    ...data,\r\n                },\r\n            };\r\n        });\r\n    };\r\n\r\n    const handleObservationEdit = (data) => {\r\n        cleaningUpObservationDataForDraftSaving(data).then((r) => r);\r\n        setObservationDetailModal(false);\r\n        setTimeout(function () {\r\n            navigate(\"/observations/update\");\r\n        }, 100);\r\n    };\r\n    const handleFilterOpen = () => {\r\n        setFilterShow(!filterShow);\r\n    };\r\n    const handleListView = () => {\r\n        setListView(true);\r\n        setGridView(false);\r\n    };\r\n    const handleGridView = () => {\r\n        setGridView(true);\r\n        setListView(false);\r\n    };\r\n    const findCountry = (e) => {\r\n        let value = e.target.value.toLowerCase();\r\n        setSearchCountry(value);\r\n    };\r\n\r\n    const handleFilterValue = (value, type) => {\r\n        if (type === \"status\") {\r\n            value = value.toLowerCase();\r\n            getObservationData(\r\n                true,\r\n                selectedFilterHorizontal.country?.code,\r\n                selectedFilterHorizontal.type,\r\n                value\r\n            ).then(r => r);\r\n        }\r\n\r\n        if (type === \"category\") {\r\n            getObservationData(\r\n                true,\r\n                selectedFilterHorizontal.country?.code,\r\n                value,\r\n                selectedFilterHorizontal.status\r\n            ).then(r => r);\r\n        }\r\n\r\n        if (type === \"country\") {\r\n            getObservationData(\r\n                true,\r\n                value.code,\r\n                selectedFilterHorizontal.type,\r\n                selectedFilterHorizontal.status\r\n            ).then(r => r);\r\n        }\r\n        if (type === \"filter\") {\r\n            getObservationData(\r\n                true,\r\n                selectedFilterHorizontal.country.code,\r\n                selectedFilterHorizontal.type,\r\n                selectedFilterHorizontal.status\r\n            ).then(r => r);\r\n        }\r\n    };\r\n\r\n    //  Handle Filtered Input\r\n    const handleFilterInput = (e) => {\r\n        let name = e.target.name,\r\n            value = e.target.value;\r\n\r\n        // console.log(name, value);\r\n        setSelectedFilterVertical({\r\n            ...selectedFilterVertical,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    //  Reset Filters\r\n    const resetFilters = () => {\r\n        setFilterReset(true);\r\n        setSelectedFilterHorizontal(dashboardHelper.horizontal);\r\n        setSelectedFilterVertical(dashboardHelper.vertical);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getObservationData(true, \"\", \"\", \"\").then(r => r);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [filterReset]);\r\n\r\n    useEffect(() => {\r\n        setObservationListData((prev) => {\r\n            return {\r\n                ...prev,\r\n                activeType: \"\",\r\n                list: []\r\n            }\r\n        })\r\n        getObservationData(true, \"\", \"\", \"\").then(r => r);\r\n\r\n        if (window.innerWidth < 768) {\r\n            setFilterShow(false);\r\n        }\r\n        console.clear();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setObservationListData((prev) => {\r\n            return {\r\n                ...prev,\r\n                active: observationListData?.list?.[selectedObservationId],\r\n            };\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isObservationDetailModal]);\r\n\r\n    return (\r\n        <>\r\n            <Suspense fallback={<div></div>}>\r\n                <FilterSelectMenu\r\n                    dashboardFilter={true}\r\n                    galleryFilter={true}\r\n                    filterShow={filterShow}\r\n                    handleFilterOpen={handleFilterOpen}\r\n                    handleListView={handleListView}\r\n                    handleGridView={handleGridView}\r\n                    listView={listView}\r\n                    gridView={gridView}\r\n                    isFilterOpen={isFilterOpen}\r\n                    setIsFilterOpen={setIsFilterOpen}\r\n                    selectedFilterHorizontal={selectedFilterHorizontal}\r\n                    setSelectedFilterHorizontal={setSelectedFilterHorizontal}\r\n                    searchCountry={searchCountry}\r\n                    findCountry={findCountry}\r\n                    handleFilterValue={handleFilterValue}\r\n                />\r\n            </Suspense>\r\n\r\n            <div className=\"observation-dashboard_content\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-12\">\r\n                            <div className=\"set-dash-content\">\r\n                                {filterShow && (\r\n                                    <Suspense fallback={<div></div>}>\r\n                                        <AdvancedFilter\r\n                                            selectedFilterVertical={selectedFilterVertical}\r\n                                            setSelectedFilterVertical={setSelectedFilterVertical}\r\n                                            handleFilterValue={handleFilterValue}\r\n                                            handleFilterOpen={handleFilterOpen}\r\n                                            isFilterOpen={isFilterOpen}\r\n                                            setIsFilterOpen={setIsFilterOpen}\r\n                                            resetFilters={resetFilters}\r\n                                            handleFilterInput={handleFilterInput}\r\n                                        />\r\n                                    </Suspense>\r\n                                )}\r\n\r\n                                <div\r\n                                    className={`dashboard-card overflow-hidden ${\r\n                                        filterShow ? \"sm-card\" : \"maximize-dash-content\"\r\n                                    }`}\r\n                                >\r\n                                    {listView ? (\r\n                                        <Suspense fallback={<div></div>}>\r\n                                            <ObservationListView\r\n                                                observationList={observationListData?.list}\r\n                                                isObservationDetailModal={isObservationDetailModal}\r\n                                                setObservationDetailModal={setObservationDetailModal}\r\n                                                setSelectedObservationId={setSelectedObservationId}\r\n                                            />\r\n                                            {nextPageUrl && observationListData?.list.length > 0 && (\r\n                                                <LoadMore handleLoadMore={handleLoadMoreData}/>\r\n                                            )}\r\n                                        </Suspense>\r\n                                    ) : (\r\n                                        <Suspense fallback={<div></div>}>\r\n                                            <ObservationDetailPage\r\n                                                observationList={observationListData?.list}\r\n                                                isObservationDetailModal={isObservationDetailModal}\r\n                                                setObservationDetailModal={setObservationDetailModal}\r\n                                                setSelectedObservationId={setSelectedObservationId}\r\n                                            />\r\n                                            {nextPageUrl && observationListData?.list.length > 0 && (\r\n                                                <LoadMore handleLoadMore={handleLoadMoreData}/>\r\n                                            )}\r\n                                        </Suspense>\r\n                                    )}\r\n\r\n                                    {!loadedState?.hasData &&\r\n                                        <Suspense fallback={''}>\r\n                                            <NotFound/>\r\n                                        </Suspense>\r\n                                    }\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <Suspense fallback={<div></div>}>\r\n                <ObservationDetails\r\n                    data={observationListData?.active}\r\n                    modalClass=\"observation-details_modal\"\r\n                    open={isObservationDetailModal}\r\n                    handleClose={handleObservationDetailModal}\r\n                    handleContinueEdit={handleObservationEdit}\r\n                    activeType={\r\n                        observationListData?.active?.is_verified\r\n                            ? \"verified\"\r\n                            : observationListData?.active?.is_reject\r\n                                ? \"denied\"\r\n                                : observationListData?.active?.is_submit\r\n                                    ? \"unverified\"\r\n                                    : \"draft\"\r\n                    }\r\n                    handleApproveRejectEvent={getObservationData}\r\n                    refreshData={getObservationData}\r\n                />\r\n            </Suspense>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { Outlet } from \"react-router-dom\";\r\nimport {createContext, useEffect, useState} from \"react\";\r\nimport { cameraSettingFields } from \"../../helpers/url\";\r\n\r\nexport const ObservationContext = createContext({});\r\n\r\nconst Observations = () => {\r\n    const [observationType, setObservationType] = useState({\r\n        image_type: 1\r\n    });\r\n\r\n    const [observationSteps, setObservationSteps] = useState({\r\n        total: 3,\r\n        active: 1,\r\n        mode: {\r\n            update: false\r\n        }\r\n    });\r\n    const [observationImages, setObservationImages] = useState([]);\r\n    const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\r\n    const [observationCategory, setObservationCategory] = useState([]);\r\n    const [observationData, setObservationData] = useState({});\r\n\r\n    useEffect(()=> {\r\n        let data = (observationImages?.data) ? [...observationImages?.data] : []\r\n        setObservationData({\r\n            // is_draft: observationSteps?.is_draft ? 1 : 0,\r\n            image_type: observationType?.image_type,\r\n            map_data: data,\r\n            elevation_angle: null,\r\n            video_url : ''\r\n        })\r\n    }, [observationImages?.data, observationSteps?.is_draft, observationType?.image_type])\r\n\r\n    return(\r\n        <ObservationContext.Provider value={\r\n            {\r\n                observationType,\r\n                setObservationType,\r\n                observationSteps,\r\n                setObservationSteps,\r\n                observationImages,\r\n                setObservationImages,\r\n                observationCategory,\r\n                setObservationCategory,\r\n                observationData,\r\n                setObservationData,\r\n                cameraDetails, \r\n                setCameraDetails\r\n            }\r\n        }>\r\n            <Outlet />\r\n        </ObservationContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Observations;"],"names":["LoadMore","props","handleLoadMore","className","onClick","observationImages","useContext","ObservationContext","useDebugValue","data","observationListData","observationViewContext","dashboardHelper","isCountryOpen","isTypeOpen","isStatusOpen","isRateOpen","isFOVOpen","isLensTypeOpen","country","name","code","type","status","from_obs_data","to_obs_data","obs_start_date","obs_end_date","obs_start_time","obs_end_time","camera_type","fps","iso","fov","shutter_speed","lens_type","NotFound","lazy","FilterSelectMenu","AdvancedFilter","ObservationDetailPage","ObservationListView","ObservationDetails","navigate","useNavigate","auth","useAuth","useState","isObservationDetailModal","setObservationDetailModal","selectedObservationId","setSelectedObservationId","useObservations","setObservationData","setObservationSteps","setObservationImages","filterShow","setFilterShow","listView","setListView","gridView","setGridView","searchCountry","setSearchCountry","isFilterOpen","setIsFilterOpen","selectedFilterHorizontal","setSelectedFilterHorizontal","selectedFilterVertical","setSelectedFilterVertical","useObservationsData","setObservationListData","nextPageUrl","setNextPageUrl","filterReset","setFilterReset","loading","hasData","loadedState","setLoadedState","getObservationData","reset","category","user","is_superuser","url","replace","baseURL","moment","format","axios","headers","Authorization","token","access","then","response","resData","undefined","results","next","prevData","records","list","length","prev","active","catch","error","console","log","handleLoadMoreData","r","cleaningUpObservationDataForDraftSaving","updateStateForDraft","total","mode","update","handleFilterOpen","handleFilterValue","value","toLowerCase","useEffect","activeType","window","innerWidth","clear","Suspense","fallback","dashboardFilter","galleryFilter","handleListView","handleGridView","findCountry","e","target","resetFilters","handleFilterInput","observationList","modalClass","open","handleClose","id","handleContinueEdit","setTimeout","is_verified","is_reject","is_submit","handleApproveRejectEvent","refreshData","createContext","image_type","observationType","setObservationType","observationSteps","cameraSettingFields","cameraDetails","setCameraDetails","observationCategory","setObservationCategory","observationData","map_data","elevation_angle","video_url","is_draft","Provider"],"sourceRoot":""}