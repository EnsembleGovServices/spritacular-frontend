{"version":3,"file":"static/js/2048.b15984b1.chunk.js","mappings":"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","sources":["components/Account/ChangePassword.jsx"],"sourcesContent":["import {useState} from \"react\";\r\nimport {Alert, Button, Col, Form, FormGroup, Input, Row} from \"reactstrap\";\r\nimport axios from \"axios\";\r\nimport {baseURL} from \"../../helpers/url\";\r\nimport PropTypes from \"prop-types\";\r\nimport ChangePasswordPopup from \"../Popup/ChangePasswordPopup\";\r\n\r\nconst ChangePassword = (props) => {\r\n    const { user } = props;\r\n    const [password, setPassword] = useState(null);\r\n    const [updated, setUpdated] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n\r\n    const handleChangePassword = async (e) => {\r\n        e.preventDefault();\r\n        setError('')\r\n        setUpdated('')\r\n        await axios.put(baseURL.api+'/users/change-password/'+user?.user?.id+'/', password, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${user?.token?.access}`\r\n            },\r\n            withCredentials: true,\r\n        }).then((res) => {\r\n            setUpdated(res?.data);\r\n            setError('');\r\n        }).catch((err) => {\r\n            setError(err?.response?.data);\r\n        })\r\n    }\r\n\r\n    const handleInput = (e) => {\r\n        e.preventDefault();\r\n        let name = e.target.name,\r\n            value = e.target.value;\r\n        setPassword({\r\n            ...password,\r\n            [name]:value,\r\n        })\r\n    }\r\n\r\n    const passwordMatchCheck = () => {\r\n        if (password?.confirm_password !== password?.new_password) {\r\n            return true;\r\n        } else if (password?.old_password === \"\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Form onSubmit={handleChangePassword}>\r\n                <Row>\r\n                    <Col sm={12}>\r\n                        {error?.detail &&\r\n                            <Alert color=\"danger\">\r\n                                {error?.detail}\r\n                            </Alert>\r\n                        }\r\n                        {error?.details &&\r\n                            <Alert color=\"danger\">\r\n                                <ul className=\"small mb-0 ps-2\">\r\n                                    {error?.details.map((item, i) => {\r\n                                        return(\r\n                                            <li key={i}>{item}</li>\r\n                                        )\r\n                                    })}\r\n                                </ul>\r\n                            </Alert>\r\n                        }\r\n\r\n                        {updated &&\r\n                            <Alert color={\"success\"}>\r\n                                {updated?.message}\r\n                            </Alert>\r\n                        }\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <FormGroup>\r\n                            <Input\r\n                                type=\"password\"\r\n                                name=\"old_password\"\r\n                                placeholder=\"Old Password\"\r\n                                required\r\n                                onChange={(e)=>handleInput(e)}\r\n                            />\r\n                        </FormGroup>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <FormGroup>\r\n                            <Input\r\n                                type=\"password\"\r\n                                name=\"new_password\"\r\n                                placeholder=\"New Password\"\r\n                                required\r\n                                onChange={(e)=>handleInput(e)}\r\n                            />\r\n                        </FormGroup>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <FormGroup>\r\n                            <Input\r\n                                type=\"password\"\r\n                                name=\"confirm_password\"\r\n                                placeholder=\"Confirm New Password\"\r\n                                required\r\n                                onChange={(e)=>handleInput(e)}\r\n                            />\r\n                            {error?.new_password &&\r\n                                <span className=\"text-danger small mt-2 d-block\">\r\n                                  {error?.new_password?.map((item, i)=> {\r\n                                      return(\r\n                                          <div key={i}>\r\n                                              <span>{item}</span><br/>\r\n                                          </div>\r\n                                      )\r\n                                  })}\r\n                                </span>\r\n                            }\r\n                        </FormGroup>\r\n                    </Col>\r\n                    <Col md={12}>\r\n                        <Button type=\"submit\" className=\"modal-btn mb-3\" disabled={passwordMatchCheck()}>\r\n                            Update Password\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nChangePasswordPopup.propTypes = {\r\n    passwordMatchCheck: PropTypes.bool\r\n};\r\n\r\nexport default ChangePassword;"],"names":["ChangePasswordPopup","passwordMatchCheck","PropTypes","props","user","useState","password","setPassword","updated","setUpdated","error","setError","handleChangePassword","e","preventDefault","axios","baseURL","id","headers","token","access","withCredentials","then","res","data","catch","err","response","handleInput","name","target","value","onSubmit","sm","detail","color","details","className","map","item","i","message","md","type","placeholder","required","onChange","new_password","disabled","confirm_password","old_password"],"sourceRoot":""}