{"version":3,"file":"static/js/5636.fa50cdae.chunk.js","mappings":"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","sources":["components/Upload/ImageUpload.js","components/Upload/LazyLoad.js","hooks/useObservations.js","pages/Observation/Observations.jsx","pages/Page/Profile.jsx"],"sourcesContent":["import React, {useCallback, useEffect, useState} from \"react\";\r\nimport axios from \"../../api/axios\";\r\nimport PropTypes from \"prop-types\";\r\nimport {baseURL} from \"../../helpers/url\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport {Button} from \"reactstrap\";\r\nimport { Icon } from '@iconify/react';\r\nimport LazyLoad from \"./LazyLoad\";\r\n\r\nconst ImageUpload = (props) => {\r\n  const { setAuth } = useAuth();\r\n  const { user, token } = props;\r\n  const [file, setFile] = useState(\"\");\r\n  const [data, setData] = useState(\"\");\r\n  const [progress, setProgress] = useState(\"0\");\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setFile(file);\r\n    setProgress('0')\r\n  };\r\n    const fileUpload = useCallback(async () => {\r\n        setError('');\r\n        const formData = new FormData();\r\n        formData.append(\"profile_image\", file);\r\n        await axios.patch(baseURL.api + \"/users/user_profile/\" + user?.id + \"/\", formData, {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n            withCredentials: true,\r\n            onUploadProgress: (ProgressEvent) => {\r\n                let progressBar = Math.round((ProgressEvent.loaded / ProgressEvent.total) * 100) + \"%\";\r\n                setProgress(progressBar);\r\n            },\r\n        }).then((response) => {\r\n            setData(response.data);\r\n            setAuth(prev => {\r\n                return {\r\n                    ...prev,\r\n                    user: {\r\n                        ...user,\r\n                        profile_image: response?.data?.profile_image.replace(baseURL.remote, \"\"),\r\n                    }\r\n                }\r\n            });\r\n        }).catch((error) => {\r\n            setError(error.response);\r\n        })\r\n    }, [file]);\r\n\r\n    useEffect(() => {\r\n        if (file) {\r\n            fileUpload().then(r => r);\r\n        }\r\n    }, [file, fileUpload]);\r\n\r\n\r\n    const ProfilePreview = () =>{\r\n      return(\r\n        <>\r\n          <label className=\"form-label-border\">\r\n              <LazyLoad\r\n                  src={user?.profile_image}\r\n                  alt={user?.first_name}\r\n              />\r\n          </label>\r\n          <Button className=\"edit-btn\"><Icon icon=\"lucide:edit-2\" /></Button>\r\n          <input type=\"file\" name=\"profile_image\" onChange={handleChange} />\r\n        </>\r\n      )\r\n    }\r\n    const ProfileLoader = () =>{\r\n      return(\r\n        <>\r\n          <div className='progressBar' style={{ \"--percentage\": progress }}>\r\n              <div className=\"wrapper\">\r\n                <b>{progress}</b>\r\n                <span>uploading..</span>\r\n              </div>\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n    const ProfileUploadText = () =>{\r\n      return(\r\n        <>\r\n          <div className='form-label'>\r\n              <div className=\"wrapper\">\r\n                <span>Please upload your image</span>\r\n                <input type=\"file\" name=\"profile_image\" onChange={handleChange} />\r\n              </div>\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n    \r\n  return (\r\n    <>\r\n      <div className=\"user-profile-upload\">\r\n        {data ? (\r\n          <>\r\n            {progress > \"1\" && !error && progress !== \"100%\" ? (\r\n              <ProfileLoader />\r\n            ) : (\r\n              <ProfilePreview />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <>\r\n          {user?.profile_image ? (\r\n            <>\r\n            {progress > \"1\"  && progress !== \"100%\" ? (\r\n              <ProfileLoader />\r\n            ) : (\r\n              <ProfilePreview />\r\n            )}\r\n          </>\r\n          ) : (\r\n            <>\r\n            {progress > \"1\" && error?.status !== 400 ? (\r\n              < ProfileLoader />\r\n            ) : (\r\n              <ProfileUploadText />\r\n            )\r\n\r\n            }\r\n            </>\r\n          )}\r\n            \r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <>\r\n        {error?.data &&\r\n          error.data.profile_image.map((error, i) => {\r\n            return (\r\n              <span key={i} className=\"text-danger small\">\r\n                {error}\r\n              </span>\r\n            );\r\n          })}\r\n      </>\r\n    </>\r\n  );\r\n};\r\nImageUpload.propTypes = {\r\n  progress: PropTypes.number,\r\n};\r\n\r\nexport default ImageUpload;\r\n","import {useEffect, useState} from \"react\";\r\nimport {placeholder} from \"./placeholder\";\r\n\r\nconst LazyLoad = (props) => {\r\n    const {src, alt, imageClass, converted} = props;\r\n    const [imageSrc, setImageSrc] = useState(null)\r\n    const [imageRef, setImageRef] = useState('')\r\n\r\n    const onLoad = (event) => {\r\n        event.target.classList.add('loaded')\r\n    }\r\n    const onError = (event) => {\r\n        event.target.classList.add('has-error')\r\n    }\r\n\r\n    useEffect(() => {\r\n        let observer\r\n        let didCancel = false\r\n\r\n        if (imageRef && imageSrc !== src) {\r\n            if (IntersectionObserver) {\r\n                observer = new IntersectionObserver(\r\n                    (entries) => {\r\n                        entries.forEach((entry) => {\r\n                            if (\r\n                                !didCancel &&\r\n                                (entry.intersectionRatio > 0 || entry.isIntersecting)\r\n                            ) {\r\n                                setImageSrc(src)\r\n                                observer.unobserve(imageRef)\r\n                            }\r\n                        })\r\n                    },\r\n                    {\r\n                        threshold: 0.01,\r\n                        rootMargin: '75%',\r\n                    }\r\n                )\r\n                observer.observe(imageRef)\r\n            } else {\r\n                setImageSrc(src)\r\n            }\r\n        }\r\n        return () => {\r\n            didCancel = true\r\n            if (observer && observer.unobserve) {\r\n                observer.unobserve(imageRef)\r\n            }\r\n        }\r\n    }, [src, imageSrc, imageRef, converted])\r\n\r\n    return (\r\n        <>\r\n            <img\r\n                className={imageClass ? imageClass + ' img-fluid' : 'img-fluid'}\r\n                ref={setImageRef}\r\n                src={imageSrc}\r\n                alt={alt}\r\n                onLoad={onLoad}\r\n                onError={onError}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LazyLoad;","import {useContext, useDebugValue} from \"react\";\r\nimport {ObservationContext} from \"../pages/Observation/Observations\";\r\n\r\nconst useObservations = () => {\r\n    const { observationImages } = useContext(ObservationContext);\r\n    // useDebugValue(observationSteps, observationSteps => observationSteps ? 'Steps set' : \"Steps not set\")\r\n    useDebugValue(observationImages, observationImages => observationImages?.data ? 'Images set' : \"Images not set\")\r\n    return useContext(ObservationContext);\r\n}\r\n\r\nexport default useObservations;","import { Outlet } from \"react-router-dom\";\r\nimport {createContext, useEffect, useState} from \"react\";\r\nimport { cameraSettingFields } from \"../../helpers/url\";\r\n\r\nexport const ObservationContext = createContext({});\r\n\r\nconst Observations = () => {\r\n    const [observationType, setObservationType] = useState({\r\n        image_type: 1\r\n    });\r\n\r\n    const [observationSteps, setObservationSteps] = useState({\r\n        total: 3,\r\n        active: 1,\r\n        mode: {\r\n            update: false\r\n        }\r\n    });\r\n    const [observationImages, setObservationImages] = useState([]);\r\n    const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\r\n    const [observationCategory, setObservationCategory] = useState([]);\r\n    const [observationData, setObservationData] = useState({});\r\n\r\n    useEffect(()=> {\r\n        let data = (observationImages?.data) ? [...observationImages?.data] : []\r\n        setObservationData({\r\n            // is_draft: observationSteps?.is_draft ? 1 : 0,\r\n            image_type: observationType?.image_type,\r\n            map_data: data,\r\n            elevation_angle: null,\r\n            video_url : ''\r\n        })\r\n    }, [observationImages?.data, observationSteps?.is_draft, observationType?.image_type])\r\n\r\n    return(\r\n        <ObservationContext.Provider value={\r\n            {\r\n                observationType,\r\n                setObservationType,\r\n                observationSteps,\r\n                setObservationSteps,\r\n                observationImages,\r\n                setObservationImages,\r\n                observationCategory,\r\n                setObservationCategory,\r\n                observationData,\r\n                setObservationData,\r\n                cameraDetails, \r\n                setCameraDetails\r\n            }\r\n        }>\r\n            <Outlet />\r\n        </ObservationContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Observations;","import {\r\n    Container,\r\n    TabContent,\r\n    TabPane,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    Row,\r\n    Col,\r\n} from \"reactstrap\";\r\nimport {Suspense, lazy, useEffect} from 'react';\r\nimport classnames from \"classnames\";\r\nimport {useState} from \"react\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport \"../../assets/scss/component/camerasettings.scss\";\r\nimport ImageUpload from \"../../components/Upload/ImageUpload\";\r\nimport ReactCountryFlags from \"../../components/ReactCountryFlag\";\r\nimport useObservations from \"../../hooks/useObservations\";\r\n\r\nconst UpdateProfile = lazy(() => import('../../components/Account/UpdateProfile'))\r\nconst CameraSetting = lazy(() => import('../../components/Account/CameraSetting'))\r\nconst ChangePassword = lazy(() => import('../../components/Account/ChangePassword'))\r\n\r\n\r\nconst Profile = () => {\r\n    const {auth} = useAuth();\r\n    const [user, setUser] = useState(auth?.user);\r\n    const [activeTab, setActiveTab] = useState(\"1\");\r\n    const {\r\n        cameraDetails,\r\n        setCameraDetails\r\n    } = useObservations();\r\n    const [isDetailExist, setIsDetailExist] = useState(false);\r\n\r\n    const toggleTab = (tab) => {\r\n        if (activeTab !== tab) {\r\n            if (tab === '2') {\r\n                fetchCameraDetails().then(r => r);\r\n            }\r\n            setActiveTab(tab);\r\n        }\r\n    };\r\n    const fetchCameraDetails = async () => {\r\n        if (auth?.user?.camera) {\r\n            setIsDetailExist(true);\r\n            setCameraDetails(auth?.user?.camera);\r\n        } else {\r\n            setIsDetailExist(false);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        setUser(auth?.user);\r\n        if (auth?.user?.camera) {\r\n            setIsDetailExist(true);\r\n        }\r\n    }, [auth])\r\n\r\n    return (\r\n        <>\r\n            <section className=\"common-banner\">\r\n                <Container>\r\n                    <div className=\"banner-inner\"/>\r\n                </Container>\r\n            </section>\r\n            <section className=\"setting-main\">\r\n                <div className=\"setting-inner\">\r\n                    <Container>\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <div className=\"profile-left-tab\">\r\n                                    <div className=\"profile-info\">\r\n                                        <div className=\"profile-img\">\r\n                                            <ImageUpload user={user} token={auth?.token?.access}/>\r\n                                        </div>\r\n                                        <div className=\"profile-data text-center\">\r\n                                            <h5>{user?.first_name} {user?.last_name}</h5>\r\n                                            <p>{user?.email}</p>\r\n                                            <div className=\"d-flex align-items-center justify-content-center\">\r\n                                                <ReactCountryFlags country={user?.country_code}/>\r\n                                                <span>{user?.location}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Nav tabs className=\"flex-column\">\r\n                                        <NavItem>\r\n                                            <NavLink\r\n                                                className={classnames({active: activeTab === \"1\"})}\r\n                                                onClick={() => {\r\n                                                    toggleTab(\"1\");\r\n                                                }}\r\n                                            >\r\n                                                Update Profile\r\n                                            </NavLink>\r\n                                        </NavItem>\r\n                                        <NavItem>\r\n                                            <NavLink\r\n                                                className={classnames({active: activeTab === \"2\"})}\r\n                                                onClick={() => {\r\n                                                    toggleTab(\"2\");\r\n                                                }}\r\n                                            >\r\n                                                Camera Settings\r\n                                            </NavLink>\r\n                                        </NavItem>\r\n                                        <NavItem>\r\n                                            <NavLink\r\n                                                className={classnames({active: activeTab === \"3\"})}\r\n                                                onClick={() => {\r\n                                                    toggleTab(\"3\");\r\n                                                }}\r\n                                            >\r\n                                                Change Password\r\n                                            </NavLink>\r\n                                        </NavItem>\r\n                                    </Nav>\r\n                                </div>\r\n                            </Col>\r\n                            <Col md={8}>\r\n                                <div className=\"profile-right-tab\">\r\n                                    <TabContent activeTab={activeTab}>\r\n                                        <TabPane tabId=\"1\">\r\n                                            <Row>\r\n                                                <Col sm=\"12\">\r\n                                                    <h4>Update Profile</h4>\r\n                                                </Col>\r\n\r\n                                                <Col md=\"12\">\r\n                                                    <Suspense fallback={<div>Loading...</div>}>\r\n                                                        <UpdateProfile user={auth}/>\r\n                                                    </Suspense>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </TabPane>\r\n                                        <TabPane tabId=\"2\">\r\n                                            <Row>\r\n                                                <Col sm=\"12\">\r\n                                                    <h4>Camera Settings</h4>\r\n                                                </Col>\r\n                                                <Col md=\"12\">\r\n                                                    <Suspense fallback={<div>Loading...</div>}>\r\n                                                        <CameraSetting cameraDetails={cameraDetails} user={auth}\r\n                                                                       isDetailExist={isDetailExist}/>\r\n                                                    </Suspense>\r\n                                                </Col>\r\n                                            </Row>\r\n\r\n                                        </TabPane>\r\n                                        <TabPane tabId=\"3\">\r\n                                            <Row>\r\n                                                <Col sm=\"12\">\r\n                                                    <h4>Change Password</h4>\r\n                                                </Col>\r\n                                                <Col md=\"12\">\r\n                                                    <Suspense fallback={<div>Loading...</div>}>\r\n                                                        <ChangePassword user={auth}/>\r\n                                                    </Suspense>\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </TabPane>\r\n                                    </TabContent>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n};\r\nexport default Profile;\r\n"],"names":["props","setAuth","useAuth","user","token","useState","file","setFile","data","setData","progress","setProgress","error","setError","handleChange","e","target","files","fileUpload","useCallback","formData","FormData","append","axios","baseURL","id","headers","Authorization","withCredentials","onUploadProgress","ProgressEvent","progressBar","Math","round","loaded","total","then","response","prev","profile_image","replace","catch","useEffect","r","ProfilePreview","className","src","alt","first_name","icon","type","name","onChange","ProfileLoader","style","ProfileUploadText","status","map","i","imageClass","converted","imageSrc","setImageSrc","imageRef","setImageRef","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","unobserve","threshold","rootMargin","observe","ref","onLoad","event","classList","add","onError","observationImages","useContext","ObservationContext","useDebugValue","createContext","image_type","observationType","setObservationType","active","mode","update","observationSteps","setObservationSteps","setObservationImages","cameraSettingFields","cameraDetails","setCameraDetails","observationCategory","setObservationCategory","observationData","setObservationData","map_data","elevation_angle","video_url","is_draft","Provider","value","UpdateProfile","lazy","CameraSetting","ChangePassword","auth","setUser","activeTab","setActiveTab","useObservations","isDetailExist","setIsDetailExist","toggleTab","tab","fetchCameraDetails","camera","md","ImageUpload","access","last_name","email","ReactCountryFlag","country","country_code","location","tabs","classnames","onClick","tabId","sm","Suspense","fallback"],"sourceRoot":""}