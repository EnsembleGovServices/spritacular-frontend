{"version":3,"file":"static/js/1752.615a26d4.chunk.js","mappings":"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","sources":["components/Shared/LoadMore.jsx","hooks/useObservations.js","hooks/useObservationsData.js","pages/Observation/MyObservations.jsx","pages/Observation/Observations.jsx"],"sourcesContent":["import { Button} from 'reactstrap';\n\nexport const LoadMore = (props) => {\n    const {handleLoadMore} = props;\n    return (\n        <Button className='gray-outline-btn d-block mx-auto px-4 fw-normal' onClick={()=> handleLoadMore()}>Load more</Button>\n    )\n};","import {useContext, useDebugValue} from \"react\";\nimport {ObservationContext} from \"../pages/Observation/Observations\";\n\nconst useObservations = () => {\n    const { observationImages } = useContext(ObservationContext);\n    // useDebugValue(observationSteps, observationSteps => observationSteps ? 'Steps set' : \"Steps not set\")\n    useDebugValue(observationImages, observationImages => observationImages?.data ? 'Images set' : \"Images not set\")\n    return useContext(ObservationContext);\n}\n\nexport default useObservations;","import {useContext, useDebugValue} from \"react\";\nimport {observationViewContext} from \"../layouts/PersistLogin\";\n\nconst useObservationsData = () => {\n    const { observationListData } = useContext(observationViewContext);\n    useDebugValue(observationListData, observationListData => observationListData ? 'List data set' : \"Listing data not set\")\n    return useContext(observationViewContext);\n}\n\nexport default useObservationsData;","import \"../../assets/scss/component/myObservation.scss\";\nimport {Col, Container, Row} from \"reactstrap\";\nimport {Link, useNavigate} from \"react-router-dom\";\nimport {Icon} from \"@iconify/react\";\nimport axios from \"../../api/axios\";\n\nimport {lazy, Suspense, useEffect, useState} from \"react\";\n\nimport useAuth from \"../../hooks/useAuth\";\nimport useObservationsData from \"../../hooks/useObservationsData\";\nimport useObservations from \"../../hooks/useObservations\";\n\nimport {LoadMore} from \"../../components/Shared/LoadMore\";\nimport {obvType} from \"../../helpers/observation\";\nimport {baseURL, routeUrls} from \"../../helpers/url\";\n\n\nconst NotFound = lazy(() => import(\"../../components/Common/NotFound\"));\n\nconst ObservationDetails = lazy(() => import(\"./ObservationDetails\"));\nconst ObservationDetailPage = lazy(() => import(\"./ObservationListPage\"));\nconst InitialUploadObservations = lazy(() => import(\"../Page/InitialUploadObservations\"));\n\nconst MyObservations = () => {\n    const {auth} = useAuth();\n    const navigate = useNavigate();\n    const {setObservationData, setObservationSteps, setObservationImages} = useObservations();\n    const {observationListData, setObservationListData} = useObservationsData();\n    const [isObservationDetailModal, setObservationDetailModal] = useState(false);\n    const [activeType, setActiveType] = useState(\"verified\");\n    const [selectedObservationId, setSelectedObservationId] = useState();\n    const [nextPageUrl, setNextPageUrl] = useState(\n        \"/observation/observation_collection/?type=\"\n    );\n    const [loading, setLoading] = useState({});\n    const [loadedState, setLoadedState] = useState({});\n\n    const handleObservationEdit = (data) => {\n        cleaningUpObservationDataForDraftSaving(data).then((r) => r);\n        setObservationDetailModal(false);\n        setTimeout(function () {\n            navigate(\"/observations/update\");\n        }, 100);\n    };\n\n    const cleaningUpObservationDataForDraftSaving = async (data) => {\n        setObservationImages([]);\n        setObservationData([]);\n        await updateStateForDraft(data);\n        return true;\n    };\n\n    const updateStateForDraft = (data) => {\n        setObservationSteps((prev) => {\n            return {\n                ...prev,\n                total: 3,\n                active: 1,\n                mode: {\n                    update: true,\n                    ...data,\n                },\n            };\n        });\n    };\n\n    const getObservationData = (reset = false, value = \"verified\") => {\n        setActiveType(value);\n        let url;\n        if (reset === true || !nextPageUrl) {\n            url = `${baseURL.api}/observation/observation_collection/?type=${value}&page=1`;\n        } else {\n            url = process.env.NODE_ENV === \"development\" ? nextPageUrl : nextPageUrl.replace('http', 'https');\n        }\n        axios.get(`${url}`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${auth?.token?.access}`,\n            },\n        }).then((success) => {\n            let data = success?.data?.results;\n            if (success?.data?.next) {\n                setNextPageUrl(success?.data?.next);\n            } else {\n                setNextPageUrl(null);\n            }\n\n            let records = data?.data;\n            let prevData;\n\n            if (observationListData?.list && !reset) {\n                prevData = [...observationListData.list];\n                prevData = [...prevData, ...records];\n            } else {\n                prevData = data?.data;\n            }\n\n            // Global State\n            setObservationListData((prev) => {\n                return {\n                    ...prev,\n                    list: prevData,\n                    count: {\n                        verified: data?.verified_count,\n                        unverified: data?.unverified_count,\n                        denied: data?.denied_count,\n                        draft: data?.draft_count,\n                        total:\n                            data?.verified_count +\n                            data?.unverified_count +\n                            data?.denied_count +\n                            data?.draft_count,\n                    },\n                };\n            });\n\n        })\n            .catch((error) => {\n                console.log(error.response);\n            });\n    };\n\n    const handleObservationDetailModal = (id) => {\n        setObservationDetailModal(!isObservationDetailModal);\n        setSelectedObservationId(id);\n    };\n\n    const handleTypeOfObservation = (type) => {\n        setActiveType(type);\n\n        setObservationListData((prev) => {\n            return {\n                ...prev,\n                list: [],\n            };\n        });\n\n        getObservationData(true, type);\n    };\n\n    const handleLoadMore = () => {\n        getObservationData(false, activeType);\n    };\n\n    useEffect(() => {\n        setObservationListData((prev) => {\n            return {\n                ...prev,\n                active: observationListData?.list?.[selectedObservationId],\n                activeType: activeType\n            };\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isObservationDetailModal, activeType]);\n    useEffect(() => {\n        getObservationData(true, \"verified\");\n        return () => {\n            setObservationListData((prev) => {\n                return {\n                    ...prev,\n                    list: []\n                }\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(() => {\n        setLoading((prev) => {\n            return {\n                ...prev,\n                count: observationListData?.count\n            }\n        })\n    }, [observationListData?.count]);\n    useEffect(() => {\n        setLoadedState((prev) => {\n            return {\n                ...prev,\n                hasObservations: loading?.count?.total > 0,\n                hasVerifiedData: loading?.count?.verified > 0,\n                hasUnverifiedData: loading?.count?.unverified > 0,\n                hasDeniedData: loading?.count?.denied > 0,\n                hasDraftData: loading?.count?.draft > 0\n            }\n        })\n    }, [loading?.count]);\n\n\n    const showNotFound = activeType &&\n        ((activeType === obvType.verified && !loadedState?.hasVerifiedData) ||\n            (activeType === obvType.unverified && !loadedState?.hasUnverifiedData) ||\n            (activeType === obvType.denied && !loadedState?.hasDeniedData) ||\n            (activeType === obvType.draft && !loadedState?.hasDraftData))\n\n\n    return (\n        <>\n            <section className=\"my-observation-data\">\n                {loadedState?.hasObservations &&\n                    <Container>\n                        <div className=\"filtered-data_wrapper\">\n                            <Row>\n                                <Col sm={12} md={8} lg={6} className=\"order-2 order-md-1\">\n                                    <div\n                                        className=\"d-flex align-items-center justify-content-start h-100 text-truncate overflow-auto mb-3 mb-md-0\">\n                                <span\n                                    className={\n                                        activeType === obvType.verified\n                                            ? \"filter-link active\"\n                                            : \"filter-link \"\n                                    }\n                                    onClick={() => handleTypeOfObservation(obvType.verified)}\n                                >\n                                  Verified ({observationListData?.count?.verified})\n                                </span>\n                                        <span\n                                            className={\n                                                activeType === obvType.unverified\n                                                    ? \"filter-link active\"\n                                                    : \"filter-link \"\n                                            }\n                                            onClick={() => handleTypeOfObservation(obvType.unverified)}\n                                        >\n                                    Unverified ({observationListData?.count?.unverified})\n                                </span>\n                                        <span\n                                            className={\n                                                activeType === obvType.denied\n                                                    ? \"filter-link active\"\n                                                    : \"filter-link \"\n                                            }\n                                            onClick={() => handleTypeOfObservation(obvType.denied)}\n                                        >\n                                  Denied ({observationListData?.count?.denied})\n                                </span>\n                                        <span\n                                            className={\n                                                activeType === obvType.draft\n                                                    ? \"filter-link active\"\n                                                    : \"filter-link \"\n                                            }\n                                            onClick={() => handleTypeOfObservation(obvType.draft)}\n                                        >\n                                  Drafts ({observationListData?.count?.draft})\n                                </span>\n                                    </div>\n                                </Col>\n                                <Col sm={12} md={4} lg={6} className=\"text-end order-1 order-md-2\">\n                                    <div\n                                        className=\"d-flex align-items-center justify-content-end h-100  flex-wrap flex-lg-nowrap mb-2 mb-md-0\">\n                                        <Link\n                                            to={\"/\" + routeUrls.observationsAdd}\n                                            className=\"btn btn-secondary ms-2 ms-xl-4 shadow-none\"\n                                        >\n                                            <Icon\n                                                icon=\"heroicons-outline:upload\"\n                                                width=\"16\"\n                                                height=\"20\"\n                                            />\n                                            Upload Observations\n                                        </Link>\n                                    </div>\n                                </Col>\n                            </Row>\n                        </div>\n                    </Container>\n                }\n\n                {/*Data block*/}\n\n                <Container>\n                    {!loadedState?.hasObservations &&\n                        <Suspense fallback={''}>\n                            <InitialUploadObservations count={loading?.count}/>\n                        </Suspense>\n                    }\n\n                    <Suspense fallback={''}>\n                        <ObservationDetailPage\n                            activeType={activeType}\n                            observationList={observationListData?.list}\n                            isObservationDetailModal={isObservationDetailModal}\n                            setObservationDetailModal={setObservationDetailModal}\n                            setSelectedObservationId={setSelectedObservationId}\n                            loadedState={loadedState}\n\n                        />\n                        {nextPageUrl && observationListData?.list.length > 0 &&\n                            <LoadMore handleLoadMore={handleLoadMore}/>}\n                    </Suspense>\n\n                    {showNotFound && loadedState?.hasObservations &&\n                        <Suspense fallback={''}>\n                            <NotFound/>\n                        </Suspense>\n                    }\n\n                </Container>\n            </section>\n\n            {observationListData?.list?.length > 0 &&\n                <Suspense fallback={''}>\n                    <ObservationDetails\n                        data={observationListData?.active}\n                        activeType={activeType}\n                        modalClass=\"observation-details_modal\"\n                        open={isObservationDetailModal}\n                        handleClose={handleObservationDetailModal}\n                        handleContinueEdit={handleObservationEdit}\n                        handleApproveRejectEvent={getObservationData}\n                        refreshData={getObservationData}\n                    />\n                </Suspense>\n            }\n        </>\n    );\n};\nexport default MyObservations;","import { Outlet } from \"react-router-dom\";\nimport {createContext, useEffect, useState} from \"react\";\nimport { cameraSettingFields } from \"../../helpers/url\";\n\nexport const ObservationContext = createContext({});\n\nconst Observations = () => {\n    const [observationType, setObservationType] = useState({\n        image_type: 1\n    });\n\n    const [observationSteps, setObservationSteps] = useState({\n        total: 3,\n        active: 1,\n        mode: {\n            update: false\n        }\n    });\n    const [observationImages, setObservationImages] = useState([]);\n    const [cameraDetails, setCameraDetails] = useState(cameraSettingFields);\n    const [observationCategory, setObservationCategory] = useState([]);\n    const [observationData, setObservationData] = useState({});\n\n    useEffect(()=> {\n        let data = (observationImages?.data) ? [...observationImages?.data] : []\n        setObservationData({\n            // is_draft: observationSteps?.is_draft ? 1 : 0,\n            image_type: observationType?.image_type,\n            map_data: data,\n            elevation_angle: null,\n            video_url : ''\n        })\n    }, [observationImages?.data, observationSteps?.is_draft, observationType?.image_type])\n\n    return(\n        <ObservationContext.Provider value={\n            {\n                observationType,\n                setObservationType,\n                observationSteps,\n                setObservationSteps,\n                observationImages,\n                setObservationImages,\n                observationCategory,\n                setObservationCategory,\n                observationData,\n                setObservationData,\n                cameraDetails, \n                setCameraDetails\n            }\n        }>\n            <Outlet />\n        </ObservationContext.Provider>\n    )\n}\n\nexport default Observations;"],"names":["LoadMore","props","handleLoadMore","className","onClick","observationImages","useContext","ObservationContext","useDebugValue","data","observationListData","observationViewContext","NotFound","lazy","ObservationDetails","ObservationDetailPage","InitialUploadObservations","auth","useAuth","navigate","useNavigate","useObservations","setObservationData","setObservationSteps","setObservationImages","useObservationsData","setObservationListData","useState","isObservationDetailModal","setObservationDetailModal","activeType","setActiveType","selectedObservationId","setSelectedObservationId","nextPageUrl","setNextPageUrl","loading","setLoading","loadedState","setLoadedState","cleaningUpObservationDataForDraftSaving","updateStateForDraft","prev","total","active","mode","update","getObservationData","url","reset","value","replace","baseURL","axios","headers","Authorization","token","access","then","success","results","next","prevData","records","list","count","verified","verified_count","unverified","unverified_count","denied","denied_count","draft","draft_count","catch","error","console","log","response","handleTypeOfObservation","type","useEffect","hasObservations","hasVerifiedData","hasUnverifiedData","hasDeniedData","hasDraftData","showNotFound","obvType","sm","md","lg","to","routeUrls","icon","width","height","Suspense","fallback","observationList","length","modalClass","open","handleClose","id","handleContinueEdit","r","setTimeout","handleApproveRejectEvent","refreshData","createContext","image_type","observationType","setObservationType","observationSteps","cameraSettingFields","cameraDetails","setCameraDetails","observationCategory","setObservationCategory","observationData","map_data","elevation_angle","video_url","is_draft","Provider"],"sourceRoot":""}