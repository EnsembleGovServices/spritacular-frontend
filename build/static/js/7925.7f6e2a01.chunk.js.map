{"version":3,"file":"static/js/7925.7f6e2a01.chunk.js","mappings":"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","sources":["components/Account/UpdateProfile.jsx"],"sourcesContent":["import { Button, Form, FormFeedback, FormGroup, Input, Label, UncontrolledAlert} from \"reactstrap\";\r\nimport axios from \"../../api/axios\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {baseURL} from \"../../helpers/url\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport PlacesAutocomplete from \"../LocationSearchInput\";\r\n\r\n\r\nconst UpdateProfile = (props) => {\r\n    const {user} = props;\r\n    const { setAuth } = useAuth();\r\n    const [updateUser, setUpdatedUser] = useState()\r\n    const [success, setSuccess] = useState();\r\n    const [error, setError] = useState();\r\n\r\n    const handleInput = (e) => {\r\n        e.preventDefault();\r\n        let name = e.target.name,\r\n            value = e.target.value;\r\n        setUpdatedUser({\r\n            ...updateUser,\r\n            [name]:value\r\n        })\r\n    }\r\n    useEffect(()=> {\r\n        setUpdatedUser(user?.user)\r\n    }, [user?.user])\r\n\r\n    const handleLocations = (location) => {\r\n        setUpdatedUser({\r\n            ...updateUser,\r\n            location: location['address'],\r\n            place_uid: location['placeId'],\r\n            country_code: location['countryCode'],\r\n            location_metadata: {\r\n                lat: location['lat'],\r\n                lng: location['lng'],\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleProfileUpdate = async (e) => {\r\n        e.preventDefault();\r\n        setSuccess('');\r\n        setError('');\r\n        await axios.patch(baseURL.api+'/users/user_profile/'+user?.user?.id+'/', {\r\n            first_name: updateUser?.first_name,\r\n            last_name: updateUser?.last_name,\r\n            email: updateUser?.email,\r\n            location: updateUser?.location,\r\n            place_uid: updateUser?.place_uid,\r\n            country_code: updateUser?.country_code,\r\n            location_metadata: {\r\n                lat: updateUser?.location_metadata?.lat,\r\n                lng: updateUser?.location_metadata?.lng,\r\n                \r\n            }\r\n        }, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${user?.token?.access}`\r\n            },\r\n            withCredentials: true,\r\n        }).then((success) => {\r\n            setSuccess(success)\r\n            setAuth(prev => {\r\n                return {\r\n                    ...prev,\r\n                    user: updateUser\r\n                }\r\n            });\r\n        }).catch((error) => {\r\n            console.log(error.response);\r\n            setError(error.response)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            {success && success?.status === 200 &&\r\n                <UncontrolledAlert variant=\"success\" data-dismiss=\"alert\" dismissible=\"true\">\r\n                    Profile updated successfully\r\n                </UncontrolledAlert>\r\n            }\r\n            <Form onSubmit={handleProfileUpdate}>\r\n                <FormGroup>\r\n                    <Label htmlFor=\"first_name\">First Name</Label>\r\n                    <Input\r\n                        type=\"text\"\r\n                        name=\"first_name\"\r\n                        value={updateUser?.first_name ?? \"\"}\r\n                        onChange={(e)=>handleInput(e)}\r\n                        invalid={!!error?.data?.first_name}\r\n                        placeholder=\"First Name\"\r\n                    />\r\n                    <FormFeedback>{error?.data?.first_name}</FormFeedback>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label htmlFor=\"last_name\">Last Name</Label>\r\n                    <Input\r\n                        type=\"text\"\r\n                        name=\"last_name\"\r\n                        placeholder=\"Last Name\"\r\n                        value={updateUser?.last_name ?? \"\"}\r\n                        invalid={!!error?.data?.last_name}\r\n                        onChange={(e)=>handleInput(e)}\r\n                    />\r\n                    <FormFeedback>{error?.data?.last_name}</FormFeedback>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <Label htmlFor=\"email\">Email</Label>\r\n                    <Input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Enter Your Email\"\r\n                        value={updateUser?.email ?? \"\"}\r\n                        invalid={!!error?.data?.email}\r\n                        onChange={(e)=>handleInput(e)}\r\n                    />\r\n                    <FormFeedback>{error?.data?.email}</FormFeedback>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Label htmlFor=\"location\">Location</Label>\r\n                    <PlacesAutocomplete handleLocations={handleLocations} address={user?.user?.location}/>\r\n                    <FormFeedback>{error?.data?.location}</FormFeedback>\r\n                </FormGroup>\r\n                <FormGroup className=\"profile-bottom-btn \">\r\n                    <Button type=\"submit\" className=\"save-btn\">Save Changes</Button>\r\n                </FormGroup>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\nexport default UpdateProfile;"],"names":["props","user","setAuth","useAuth","useState","updateUser","setUpdatedUser","success","setSuccess","error","setError","handleInput","e","preventDefault","name","target","value","useEffect","handleProfileUpdate","axios","baseURL","id","first_name","last_name","email","location","place_uid","country_code","location_metadata","lat","lng","headers","token","access","withCredentials","then","prev","catch","console","log","response","status","variant","dismissible","onSubmit","htmlFor","type","onChange","invalid","data","placeholder","handleLocations","address","className"],"sourceRoot":""}