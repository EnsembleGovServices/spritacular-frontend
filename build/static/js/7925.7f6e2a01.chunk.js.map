{"version":3,"file":"static/js/7925.7f6e2a01.chunk.js","mappings":"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","sources":["components/Account/UpdateProfile.jsx"],"sourcesContent":["import { Button, Form, FormFeedback, FormGroup, Input, Label, UncontrolledAlert} from \"reactstrap\";\nimport axios from \"../../api/axios\";\nimport {useEffect, useState} from \"react\";\nimport {baseURL} from \"../../helpers/url\";\nimport useAuth from \"../../hooks/useAuth\";\nimport PlacesAutocomplete from \"../LocationSearchInput\";\n\n\nconst UpdateProfile = (props) => {\n    const {user} = props;\n    const { setAuth } = useAuth();\n    const [updateUser, setUpdatedUser] = useState()\n    const [success, setSuccess] = useState();\n    const [error, setError] = useState();\n\n    const handleInput = (e) => {\n        e.preventDefault();\n        let name = e.target.name,\n            value = e.target.value;\n        setUpdatedUser({\n            ...updateUser,\n            [name]:value\n        })\n    }\n    useEffect(()=> {\n        setUpdatedUser(user?.user)\n    }, [user?.user])\n\n    const handleLocations = (location) => {\n        setUpdatedUser({\n            ...updateUser,\n            location: location['address'],\n            place_uid: location['placeId'],\n            country_code: location['countryCode'],\n            location_metadata: {\n                lat: location['lat'],\n                lng: location['lng'],\n            }\n        });\n    }\n\n    const handleProfileUpdate = async (e) => {\n        e.preventDefault();\n        setSuccess('');\n        setError('');\n        await axios.patch(baseURL.api+'/users/user_profile/'+user?.user?.id+'/', {\n            first_name: updateUser?.first_name,\n            last_name: updateUser?.last_name,\n            email: updateUser?.email,\n            location: updateUser?.location,\n            place_uid: updateUser?.place_uid,\n            country_code: updateUser?.country_code,\n            location_metadata: {\n                lat: updateUser?.location_metadata?.lat,\n                lng: updateUser?.location_metadata?.lng,\n                \n            }\n        }, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${user?.token?.access}`\n            },\n            withCredentials: true,\n        }).then((success) => {\n            setSuccess(success)\n            setAuth(prev => {\n                return {\n                    ...prev,\n                    user: updateUser\n                }\n            });\n        }).catch((error) => {\n            console.log(error.response);\n            setError(error.response)\n        })\n    }\n\n    return(\n        <>\n            {success && success?.status === 200 &&\n                <UncontrolledAlert variant=\"success\" data-dismiss=\"alert\" dismissible=\"true\">\n                    Profile updated successfully\n                </UncontrolledAlert>\n            }\n            <Form onSubmit={handleProfileUpdate}>\n                <FormGroup>\n                    <Label htmlFor=\"first_name\">First Name</Label>\n                    <Input\n                        type=\"text\"\n                        name=\"first_name\"\n                        value={updateUser?.first_name ?? \"\"}\n                        onChange={(e)=>handleInput(e)}\n                        invalid={!!error?.data?.first_name}\n                        placeholder=\"First Name\"\n                    />\n                    <FormFeedback>{error?.data?.first_name}</FormFeedback>\n                </FormGroup>\n                <FormGroup>\n                    <Label htmlFor=\"last_name\">Last Name</Label>\n                    <Input\n                        type=\"text\"\n                        name=\"last_name\"\n                        placeholder=\"Last Name\"\n                        value={updateUser?.last_name ?? \"\"}\n                        invalid={!!error?.data?.last_name}\n                        onChange={(e)=>handleInput(e)}\n                    />\n                    <FormFeedback>{error?.data?.last_name}</FormFeedback>\n                </FormGroup>\n                <FormGroup>\n                    <Label htmlFor=\"email\">Email</Label>\n                    <Input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Enter Your Email\"\n                        value={updateUser?.email ?? \"\"}\n                        invalid={!!error?.data?.email}\n                        onChange={(e)=>handleInput(e)}\n                    />\n                    <FormFeedback>{error?.data?.email}</FormFeedback>\n                </FormGroup>\n\n                <FormGroup>\n                    <Label htmlFor=\"location\">Location</Label>\n                    <PlacesAutocomplete handleLocations={handleLocations} address={user?.user?.location}/>\n                    <FormFeedback>{error?.data?.location}</FormFeedback>\n                </FormGroup>\n                <FormGroup className=\"profile-bottom-btn \">\n                    <Button type=\"submit\" className=\"save-btn\">Save Changes</Button>\n                </FormGroup>\n            </Form>\n        </>\n    )\n}\nexport default UpdateProfile;"],"names":["props","user","setAuth","useAuth","useState","updateUser","setUpdatedUser","success","setSuccess","error","setError","handleInput","e","preventDefault","name","target","value","useEffect","handleProfileUpdate","axios","baseURL","id","first_name","last_name","email","location","place_uid","country_code","location_metadata","lat","lng","headers","token","access","withCredentials","then","prev","catch","console","log","response","status","variant","dismissible","onSubmit","htmlFor","type","onChange","invalid","data","placeholder","handleLocations","address","className"],"sourceRoot":""}