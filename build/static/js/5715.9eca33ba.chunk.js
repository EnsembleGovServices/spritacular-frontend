"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[5715,2678],{92678:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(1413),a=t(42982),r=t(70885),o=t(7551),c=t(60536),l=t.n(c),s=t(74551),u=t(17834),d=t(72791),f=t(43504),m=t(80184),v=function(e){var n=e.data,t=e.setData,c=e.editorData,v=e.setLoading,h=e.setReadMode,g=e.readMode,p=e.readOnly,x=(0,u.Z)().auth,b=(0,f.lr)(),j="edit"!==(0,r.Z)(b,1)[0].get("mode"),Z=(0,d.useState)([]),w=(0,r.Z)(Z,2),y=w[0],N=w[1],k=(0,d.useState)(!1),_=(0,r.Z)(k,2),C=_[0],F=_[1],L=(0,d.useState)([]),S=(0,r.Z)(L,2),D=S[0],E=S[1];var O={toolbar:{items:["undo","redo","fontsize","fontColor","fontBackgroundColor","|","heading","|","alignment","|","bold","italic","|","link","|","bulletedList","numberedList","insertTable","mergeTableCells","|","insertImage","codeBlock","|","code","HorizontalLine","SpecialCharacters","ImageResize","pageBreak"],shouldNotGroupWhenFull:!1},removePlugins:["Title"],extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return F(!1),{upload:function(){return new Promise((function(n,t){var i=new FormData;v(!0),e.file.then((function(e){var r;i.append("image",e),(new Headers).append("Authorization","Bearer ".concat(null===x||void 0===x||null===(r=x.token)||void 0===r?void 0:r.access)),fetch("".concat(s.v2.blog_image_upload),{method:"post",body:i}).then((function(e){return e.json()})).then((function(e){v(!1),n({default:e.url}),N((function(n){return[].concat((0,a.Z)(n),[{id:e.image_id,url:e.url}])}))})).catch((function(e){t(e)}))}))}))}}}(e)}}]};return(0,d.useEffect)((function(){t&&t((function(e){return(0,i.Z)((0,i.Z)({},e),{},{image_ids:y})}))}),[y,D]),(0,d.useEffect)((function(){if(C&&y){var e,n=null===c||void 0===c||null===(e=c.image_ids)||void 0===e?void 0:e.filter((function(e){return D.includes(e.url)})).map((function(e){return e}));N(n)}}),[D,C]),(0,d.useEffect)((function(){h&&h(j)}),[j]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.CKEditor,{editor:l(),config:O,data:n||"",then:function(e){console.log(e)},onReady:function(e){var n=e.ui.view.stickyPanel;e.isReadOnly=g||p,e.isReadOnly&&(e.ui.view.top.remove(n),e.ui.view.editable.element.classList.add("p-0"),e.ui.view.editable.element.classList.add("border-0"))},onChange:function(e,n){F(!1);var a=n.getData();n.model.document.on("change:data",(function(){F(!0)}));var r=Array.from((new DOMParser).parseFromString(n.getData(),"text/html").querySelectorAll("img")).map((function(e){return e.getAttribute("src")}));E(r),t&&t((function(e){return(0,i.Z)((0,i.Z)({},e),{},{content:a})}))},onFocus:function(e,n){},onBlur:function(e,n){}})})}},35727:function(e,n,t){var i=t(7788),a=t(43504),r=t(74551),o=t(80184);n.Z=function(e){var n=e.page,t=e.title;return(0,o.jsxs)(i.aG,{children:[(0,o.jsx)(i.gN,{children:(0,o.jsx)(a.rU,{to:r.X0.home,children:"Home"})}),(0,o.jsx)(i.gN,{children:(0,o.jsxs)(a.rU,{to:"/".concat(null===n||void 0===n?void 0:n.toLowerCase()),className:"text-capitalize",children:[" ",n||""," "]})}),(0,o.jsx)(i.gN,{active:!0,children:t||""})]})}},85715:function(e,n,t){t.r(n);var i=t(74165),a=t(15861),r=t(70885),o=(t(51136),t(7788)),c=t(72791),l=t(16871),s=t(43504),u=t(94677),d=t(74551),f=t(17834),m=t(35727),v=t(92678),h=t(80184);n.default=function(){var e,n=(0,c.useState)(),t=(0,r.Z)(n,2),g=t[0],p=t[1],x=(0,l.UO)().slug,b=(0,f.Z)().auth,j=null===b||void 0===b||null===(e=b.user)||void 0===e?void 0:e.is_superuser,Z=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("".concat(d.v2.get_single_blog).concat(x,"/"),{headers:{"Content-Type":"application/json"}}).then((function(e){var n;p(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)})).catch((function(e){console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){Z().then((function(e){return e}))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"tutorial-details_page position-relative",children:[(0,h.jsx)("div",{className:"common-banner"}),(0,h.jsx)("section",{className:"tutorial-detail-main",children:(0,h.jsxs)(o.W2,{children:[(0,h.jsx)("div",{className:"breadcrumb-main",children:(0,h.jsx)(m.Z,{page:"Tutorials",title:null===g||void 0===g?void 0:g.title})}),(0,h.jsxs)("div",{className:"mb-4 mt-3 d-flex align-items-center justify-content-between",children:[(0,h.jsx)("h2",{className:"mb-0",children:null===g||void 0===g?void 0:g.title}),j&&(0,h.jsx)(s.rU,{to:g?"/".concat(d.X0.dashboard,"/").concat(d.X0.dashTutorial.list,"/").concat(x,"/edit"):"",className:"btn btn-primary px-4 btn-sm",children:"Edit"})]}),(0,h.jsx)(o.X2,{children:(0,h.jsx)(o.JX,{md:12,children:(0,h.jsx)("div",{className:"card border-0 shadow-sm",children:(0,h.jsx)("div",{className:"card-body p-5",children:(0,h.jsx)(v.default,{data:null===g||void 0===g?void 0:g.content,readOnly:!0})})})})})]})})]})})}},51136:function(){}}]);
//# sourceMappingURL=5715.9eca33ba.chunk.js.map