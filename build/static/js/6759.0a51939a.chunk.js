"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[6759,2678],{92678:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(1413),i=t(42982),o=t(70885),r=t(7551),s=t(60536),c=t.n(s),l=t(74551),d=t(17834),u=t(72791),f=t(43504),m=t(80184),v=function(e){var n=e.data,t=e.setData,s=e.editorData,v=e.setLoading,h=e.setReadMode,p=e.readMode,g=e.readOnly,x=(0,d.Z)().auth,b=(0,f.lr)(),j="edit"!==(0,o.Z)(b,1)[0].get("mode"),y=(0,u.useState)([]),N=(0,o.Z)(y,2),Z=N[0],k=N[1],w=(0,u.useState)(!1),C=(0,o.Z)(w,2),_=C[0],M=C[1],R=(0,u.useState)([]),S=(0,o.Z)(R,2),B=S[0],D=S[1];var F={toolbar:{items:["undo","redo","fontsize","fontColor","fontBackgroundColor","|","heading","|","alignment","|","bold","italic","|","link","|","bulletedList","numberedList","insertTable","mergeTableCells","|","insertImage","codeBlock","|","code","HorizontalLine","SpecialCharacters","ImageResize","pageBreak"],shouldNotGroupWhenFull:!1},removePlugins:["Title"],extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return M(!1),{upload:function(){return new Promise((function(n,t){var a=new FormData;v(!0),e.file.then((function(e){var o;a.append("image",e),(new Headers).append("Authorization","Bearer ".concat(null===x||void 0===x||null===(o=x.token)||void 0===o?void 0:o.access)),fetch("".concat(l.v2.blog_image_upload),{method:"post",body:a}).then((function(e){return e.json()})).then((function(e){v(!1),n({default:e.url}),k((function(n){return[].concat((0,i.Z)(n),[{id:e.image_id,url:e.url}])}))})).catch((function(e){t(e)}))}))}))}}}(e)}}]};return(0,u.useEffect)((function(){t&&t((function(e){return(0,a.Z)((0,a.Z)({},e),{},{image_ids:Z})}))}),[Z,B]),(0,u.useEffect)((function(){if(_&&Z){var e,n=null===s||void 0===s||null===(e=s.image_ids)||void 0===e?void 0:e.filter((function(e){return B.includes(e.url)})).map((function(e){return e}));k(n)}}),[B,_]),(0,u.useEffect)((function(){h&&h(j)}),[j]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(r.CKEditor,{editor:c(),config:F,data:n||"",then:function(e){console.log(e)},onReady:function(e){var n=e.ui.view.stickyPanel;e.isReadOnly=p||g,e.isReadOnly&&(e.ui.view.top.remove(n),e.ui.view.editable.element.classList.add("p-0"),e.ui.view.editable.element.classList.add("border-0"))},onChange:function(e,n){M(!1);var i=n.getData();n.model.document.on("change:data",(function(){M(!0)}));var o=Array.from((new DOMParser).parseFromString(n.getData(),"text/html").querySelectorAll("img")).map((function(e){return e.getAttribute("src")}));D(o),t&&t((function(e){return(0,a.Z)((0,a.Z)({},e),{},{content:i})}))},onFocus:function(e,n){},onBlur:function(e,n){}})})}},76759:function(e,n,t){t.r(n);var a=t(15861),i=t(70885),o=t(87757),r=t.n(o),s=(t(44453),t(16871)),c=t(74551),l=t(94677),d=t(72791),u=t(17834),f=t(27338),m=t(80184);n.default=function(){var e=(0,s.UO)().slug,n=(0,u.Z)().auth,t=(0,s.s0)(),o=(0,d.useState)(),v=(0,i.Z)(o,2),h=v[0],p=v[1],g=(0,d.useState)(!1),x=(0,i.Z)(g,2),b=x[0],j=x[1],y=function(){var i=(0,a.Z)(r().mark((function a(){var i;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.Z.get("".concat(c.v2.get_single_blog).concat(e,"/"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===n||void 0===n||null===(i=n.token)||void 0===i?void 0:i.access)}}).then((function(e){var n;p(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)})).catch((function(e){var n;200!==(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.statusCode)&&t("/404",{replace:!0})}));case 2:case"end":return a.stop()}}),a)})));return function(){return i.apply(this,arguments)}}();return(0,d.useEffect)((function(){y().then((function(e){return e}))}),[]),(0,m.jsx)(f.Z,{setReadMode:j,readMode:b,content:h,slug:e,type:"blog"})}},27338:function(e,n,t){var a=t(7788),i=t(43504),o=t(74551),r=t(62711),s=t(92678),c=t(80184);n.Z=function(e){var n=e.slug,t=e.content,l=e.setReadMode,d=e.readMode,u=e.type;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"blog_page position-relative",children:[(0,c.jsx)("div",{className:"common-banner"}),(0,c.jsx)("section",{className:"blog-main",children:(0,c.jsxs)(a.W2,{children:[(0,c.jsx)("div",{className:"position-relative",children:(0,c.jsxs)("div",{className:"",children:[(0,c.jsxs)(i.rU,{to:"/"+o.X0.dashboard+"/"+u,className:"d-flex align-items-center justify-content-start mb-3",children:[(0,c.jsx)(r.JO,{icon:"ep:back"}),(0,c.jsxs)("span",{className:"ms-2",children:["Back to ",u]})]}),(0,c.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,c.jsx)("h2",{className:"mb-0",children:null===t||void 0===t?void 0:t.title}),(0,c.jsx)(i.rU,{to:t?"/".concat(o.X0.dashboard,"/").concat(u,"/").concat(n,"/edit"):"",className:"btn btn-primary px-4 btn-sm",children:"Edit"})]})]})}),(0,c.jsx)("div",{className:"mt-5",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)(a.JX,{sm:12,children:(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-body p-4 py-md-5 px-md-5",children:[(0,c.jsx)("span",{className:"text-light-dark",children:"Description"}),(0,c.jsx)("p",{className:"card-text",children:null===t||void 0===t?void 0:t.description}),(0,c.jsx)("div",{children:(0,c.jsx)(s.default,{data:null===t||void 0===t?void 0:t.content,setReadMode:l,readMode:d})})]})})})})})]})})]})})}},44453:function(){}}]);
//# sourceMappingURL=6759.0a51939a.chunk.js.map