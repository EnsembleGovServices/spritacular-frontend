"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[5019,6442],{75019:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var a=t(15861),i=t(1413),r=t(70885),o=t(87757),l=t.n(o),c=(t(22201),t(33151)),s=t(72791),u=t(62711),d=t(6442),m=t(7788),p=t(80184),f=function(e){var n=e.setData,t=(e.uploadProgress,e.error,e.update,e.thumb),o=(0,s.useState)(),f=(0,r.Z)(o,2),h=f[0],g=f[1],v=(0,s.useState)(),b=(0,r.Z)(v,2),x=b[0],j=b[1],y=(0,s.useState)(!1),w=(0,r.Z)(y,2),Z=w[0],N=w[1];(0,s.useLayoutEffect)((function(){h&&!Z&&function(){var e=new FileReader;e.onloadend=function(){var n=e.result.replace("data:","").replace(/^.+,/,""),t="data:image/png;base64,".concat(n);j(t)},e.readAsDataURL(h)}()}),[h,x]),(0,s.useEffect)((function(){Z||n((function(e){return(0,i.Z)((0,i.Z)({},e),{},{thumbnail_image:h})}))}),[h]);var k=function(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}}))};return(0,s.useEffect)((function(){if(t)return fetch(t).then(function(){var e=(0,a.Z)(l().mark((function e(a){var r,o,c,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.headers.get("content-type"),e.next=3,a.blob().catch((function(e){return console.log("blob error",e)}));case 3:return o=e.sent,c=t.split(/[#?]/)[0].split("/").pop().trim(),s=new File([o],c,{contentType:r}),e.next=8,k(s).catch((function(e){return console.log("base64 Error",e)}));case 8:return u=e.sent,setTimeout((function(){n((function(e){return(0,i.Z)((0,i.Z)({},e),{},{thumbnail_image:s})})),g(s),j(u)}),500),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.log("File converting delayed")}))}),[t]),(0,p.jsxs)(m.cw,{children:[(0,p.jsx)(m.__,{for:"title",children:"Upload Thumbnail"}),(0,p.jsxs)("div",{className:"position-relative overflow-hidden",children:[(0,p.jsx)(c.Z,{blogUpload:!0,handleUploadImage:function(e){N(!1),j(null),g(e.target.files[0])}}),x&&(0,p.jsxs)("div",{className:"img_wrapper position-absolute w-100 left-0 right-0 top-0 bottom-0",children:[(0,p.jsx)("button",{className:"remove-btn",onClick:function(e){return function(e){N(!0),e.preventDefault(),j(null),g(null),n((function(e){return(0,i.Z)((0,i.Z)({},e),{},{thumbnail_image:null})}))}(e)},children:(0,p.jsx)(u.JO,{icon:"clarity:window-close-line",width:20,height:20})}),(0,p.jsx)("div",{className:"img-preview_wrapper",children:(0,p.jsx)(d.default,{image:x,preview:x})})]})]})]})}},6442:function(e,n,t){t.r(n);var a=t(70885),i=t(72791),r=t(2579),o=t(80184);n.default=function(e){var n=e.preview,t=e.image,l=e.alt,c=e.bgColor,s=void 0===c?"transparent":c,u=e.handleClick,d=e.homepage,m=e.loaderLoading,p=(0,i.useState)(!0),f=(0,a.Z)(p,2),h=f[0],g=f[1],v=(0,i.useRef)(null);(0,i.useEffect)((function(){var e;g(!0),t&&(e=v.current,new Promise((function(n){e.onload=n}))).then((function(){g(!1),m(!1)}))}),[t]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"shadow-sm drop-shadow-lg h-100 loader-wrap-img",style:{minHeight:"217px",overflow:"hidden"},children:[h&&(0,o.jsx)("div",{className:"loadingImage",children:(0,o.jsx)(r.Z,{count:1,height:"100%"})}),(0,o.jsx)("img",{style:{width:"100%",background:s,objectFit:"cover",height:"100%",minHeight:"217px"},src:n,alt:l,ref:v,className:"".concat(d?"img-fluid isLoadingImg card-img no-cursor":"isLoadingImg img-fluid"),onClick:u})]})})}},33151:function(e,n,t){t(22201);var a=t(7788),i=t(62711),r=t(80184);n.Z=function(e){var n=e.maxLimit,t=e.imageFormat,o=e.multiple,l=e.handleUploadImage,c=e.error,s=e.small,u=e.handleObvAdd,d=e.defaultUploadBox,m=e.blogUpload;return(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsxs)("div",{className:"upload-image_wrapper ".concat(s?"small-upload_box mb-5":""," ").concat(m?"blog-upload-box":""),children:[(0,r.jsx)("div",{className:"upload-ob-inner",children:(0,r.jsxs)(a.cw,{children:[(0,r.jsx)(a.__,{htmlFor:"UploadFile",children:(0,r.jsxs)("div",{className:"upload-info",children:[(0,r.jsx)(i.JO,{icon:"bx:image-alt",color:"#737e96",width:"42",height:"42"}),(0,r.jsx)("p",{children:d?"Upload your first observation":"Drag and drop images or click to upload"}),n&&(0,r.jsx)("span",{className:"text-black",children:"Max. Image Size: 5MB"}),t&&(0,r.jsx)("ul",{children:(0,r.jsx)("li",{children:"Common Image File Formats (JPEG or JPG, PNG)"})})]})}),(0,r.jsx)(a.II,{type:"file",name:"file",id:"UploadFile",accept:"image/jpg, image/jpeg, image/png",multiple:o,onChange:function(e){return l(e)}})]})}),(null===c||void 0===c?void 0:c.count)&&(0,r.jsxs)("span",{className:"text-danger d-block small my-1 d-inline-block",children:[null===c||void 0===c?void 0:c.count," "]}),(null===c||void 0===c?void 0:c.size)&&(0,r.jsx)("span",{className:"text-danger d-block small my-1 d-inline-block",children:null===c||void 0===c?void 0:c.size}),(null===c||void 0===c?void 0:c.duplicate)&&(0,r.jsx)("span",{className:"text-info d-block small my-1 d-inline-block",children:null===c||void 0===c?void 0:c.duplicate})]}),d&&(0,r.jsx)("div",{className:"".concat(d?"mark-center":""),children:(0,r.jsxs)("button",{onClick:function(e){return u(e)},className:"btn btn-secondary",children:[(0,r.jsx)(i.JO,{icon:"heroicons-outline:upload",width:"25",height:"22"}),"Upload Observation"]})})]})}},22201:function(){},45987:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(63366);function i(e,n){if(null==e)return{};var t,i,r=(0,a.Z)(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}},2579:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(70885),i=t(1413),r=t(45987),o=t(72791),l=["count","wrapper","className","containerClassName","containerTestId","circle","style"],c=o.createContext({});function s(e){for(var n,t,s,u=e.count,d=void 0===u?1:u,m=e.wrapper,p=e.className,f=e.containerClassName,h=e.containerTestId,g=e.circle,v=void 0!==g&&g,b=e.style,x=(0,r.Z)(e,l),j=o.useContext(c),y=(0,i.Z)({},x),w=0,Z=Object.entries(x);w<Z.length;w++){var N=(0,a.Z)(Z[w],2),k=N[0];"undefined"===typeof N[1]&&delete y[k]}var C=(0,i.Z)((0,i.Z)((0,i.Z)({},j),y),{},{circle:v}),F=(0,i.Z)((0,i.Z)({},b),function(e){var n=e.baseColor,t=e.highlightColor,a=e.width,i=e.height,r=e.borderRadius,o=e.circle,l=e.direction,c=e.duration,s=e.enableAnimation,u=void 0===s||s,d={};return"rtl"===l&&(d["--animation-direction"]="reverse"),"number"===typeof c&&(d["--animation-duration"]="".concat(c,"s")),u||(d["--pseudo-element-display"]="none"),"string"!==typeof a&&"number"!==typeof a||(d.width=a),"string"!==typeof i&&"number"!==typeof i||(d.height=i),"string"!==typeof r&&"number"!==typeof r||(d.borderRadius=r),o&&(d.borderRadius="50%"),"undefined"!==typeof n&&(d["--base-color"]=n),"undefined"!==typeof t&&(d["--highlight-color"]=t),d}(C)),_="react-loading-skeleton";p&&(_+=" ".concat(p));for(var E=null!==(n=C.inline)&&void 0!==n&&n,I=[],O=Math.ceil(d),U=0;U<O;U++){var P=F;if(O>d&&U===O-1){var R=null!==(t=P.width)&&void 0!==t?t:"100%",L=d%1,S="number"===typeof R?R*L:"calc(".concat(R," * ").concat(L,")");P=(0,i.Z)((0,i.Z)({},P),{},{width:S})}var A=o.createElement("span",{className:_,style:P,key:U},"\u200c");E?I.push(A):I.push(o.createElement(o.Fragment,{key:U},A,o.createElement("br",null)))}return o.createElement("span",{className:f,"data-testid":h,"aria-live":"polite","aria-busy":null===(s=C.enableAnimation)||void 0===s||s},m?I.map((function(e,n){return o.createElement(m,{key:n},e)})):I)}}}]);
//# sourceMappingURL=5019.023e31fe.chunk.js.map