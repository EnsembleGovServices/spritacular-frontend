/*! For license information please see 1414.b6b35df9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[1414],{85854:function(e,t,n){n.d(t,{BH:function(){return v},L:function(){return d},LL:function(){return w},Lj:function(){return O},X3:function(){return T},ZR:function(){return y},eu:function(){return b},hl:function(){return g},m9:function(){return _},vZ:function(){return I},zI:function(){return m}});var r=n(15861),a=n(97326),i=n(60136),o=n(29388),s=n(98737),c=n(15671),u=n(43144),p=n(87757),f=n.n(p),l=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,s=o?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,p=i>>2,f=(3&i)<<4|s>>4,l=(15&s)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),r.push(n[p],n[f],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],c=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0,s=++a<e.length?n[e.charAt(a)]:64,c=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==o||null==s||null==c)throw Error();var u=i<<2|o>>4;if(r.push(u),64!==s){var p=o<<4&240|s>>2;if(r.push(p),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){return function(e){var t=l(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")};var v=function(){function e(){var t=this;(0,c.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,u.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function g(){return"object"===typeof indexedDB}function b(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}}))}function m(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var y=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e,r,i){var o;return(0,c.Z)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf((0,a.Z)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,a.Z)(o),w.prototype.create),o}return(0,u.Z)(n)}((0,s.Z)(Error)),w=function(){function e(t,n,r){(0,c.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,u.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?k(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,")."),o=new y(n,i,t);return o}}]),e}();function k(e,t){return e.replace(x,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var x=/\{\$([^}]+)}/g;function I(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!r.includes(o))return!1;var s=e[o],c=t[o];if(S(s)&&S(c)){if(!I(s,c))return!1}else if(s!==c)return!1}for(var u=0,p=r;u<p.length;u++){var f=p[u];if(!n.includes(f))return!1}return!0}function S(e){return null!==e&&"object"===typeof e}function _(e){return e&&e._delegate?e._delegate:e}function Z(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var C=function(){function e(t){(0,c.Z)(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return(0,u.Z)(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new E(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new D(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),E=function(){function e(t){var n=this;(0,c.Z)(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return(0,u.Z)(e,[{key:"objectStore",value:function(e){return new D(this._transaction.objectStore(e))}}]),e}(),D=function(){function e(t){(0,c.Z)(this,e),this._store=t}return(0,u.Z)(e,[{key:"index",value:function(e){return new A(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new A(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Z(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Z(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Z(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Z(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),A=function(){function e(t){(0,c.Z)(this,e),this._index=t}return(0,u.Z)(e,[{key:"get",value:function(e){return Z(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function T(e,t,n){return new Promise((function(r,a){try{var i=indexedDB.open(e,t);i.onsuccess=function(e){r(new C(e.target.result))},i.onerror=function(e){var t;a("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},i.onupgradeneeded=function(e){n(new C(i.result),e.oldVersion,e.newVersion,new E(i.transaction))}}catch(o){a("Error opening indexedDB: ".concat(o.message))}}))}function O(e){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var r=indexedDB.deleteDatabase(t);r.onsuccess=function(){e()},r.onerror=function(e){var r;n('Error deleting indexedDB database "'.concat(t,'": ').concat(null===(r=e.target.error)||void 0===r?void 0:r.message))}}catch(a){n('Error deleting indexedDB database "'.concat(t,'": ').concat(a.message))}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},92997:function(e,t,n){n.d(t,{ZF:function(){return r.ZF}});var r=n(10625);(0,r.KN)("firebase","9.6.11","app")},94586:function(e,t,n){n.d(t,{KL:function(){return Wt},LP:function(){return qt},ps:function(){return $t}});var r,a=n(15671),i=n(43144),o=n(4942),s=n(15861),c=n(42982),u=n(87757),p=n(37762),f=n(10625),l=n(23258),h=n(85854),d="@firebase/installations",v="0.5.8",g=1e4,b="w:".concat(v),m="FIS_v2",y=36e5,w=(r={},(0,o.Z)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,o.Z)(r,"not-registered","Firebase Installation is not registered."),(0,o.Z)(r,"installation-not-found","Firebase Installation not found."),(0,o.Z)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),(0,o.Z)(r,"app-offline","Could not process request. Application offline."),(0,o.Z)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),k=new h.LL("installations","Installations",w);function x(e){return e instanceof h.ZR&&e.code.includes("request-failed")}function I(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function S(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(u.mark((function e(t,n){var r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,a=r.error,e.abrupt("return",k.create("request-failed",{requestName:t,serverCode:a.code,serverMessage:a.message,serverStatus:a.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E(e,t){var n=t.refreshToken,r=C(e);return r.append("Authorization",function(e){return"".concat(m," ").concat(e)}(n)),r}function D(e){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(u.mark((function e(t){var n;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return O.apply(this,arguments)}function O(){return(O=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s,c,p,f,l,h,d,v;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=n.fid,o=I(r),s=C(r),!(c=a.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,c.getHeartbeatsHeader();case 8:(p=e.sent)&&s.append("x-firebase-client",p);case 10:return f={fid:i,authVersion:m,appId:r.appId,sdkVersion:b},l={method:"POST",headers:s,body:JSON.stringify(f)},e.next=14,D((function(){return fetch(o,l)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,v={fid:d.fid||i,registrationStatus:2,refreshToken:d.refreshToken,authToken:S(d.authToken)},e.abrupt("return",v);case 23:return e.next=25,_("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return new Promise((function(t){setTimeout(t,e)}))}var N=/^[cdef][\w-]{21}$/;function P(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,c.Z)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return N.test(t)?t:""}catch(n){return""}}function M(e){return"".concat(e.appName,"!").concat(e.appId)}var L=new Map;function B(e,t){var n=M(e);H(n,t),function(e,t){var n=F();n&&n.postMessage({key:e,fid:t});K()}(n,t)}function H(e,t){var n=L.get(e);if(n){var r,a=(0,p.Z)(n);try{for(a.s();!(r=a.n()).done;){(0,r.value)(t)}}catch(i){a.e(i)}finally{a.f()}}}var R=null;function F(){return!R&&"BroadcastChannel"in self&&((R=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){H(e.data.key,e.data.fid)}),R}function K(){0===L.size&&R&&(R.close(),R=null)}var V="firebase-installations-store",z=null;function W(){return z||(z=(0,h.X3)("firebase-installations-database",1,(function(e,t){if(0===t)e.createObjectStore(V)}))),z}function q(e,t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),e.next=3,W();case 3:return a=e.sent,i=a.transaction(V,"readwrite"),o=i.objectStore(V),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,i.complete;case 13:return s&&s.fid===n.fid||B(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return X.apply(this,arguments)}function X(){return(X=(0,s.Z)(u.mark((function e(t){var n,r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(t),e.next=3,W();case 3:return r=e.sent,a=r.transaction(V,"readwrite"),e.next=7,a.objectStore(V).delete(n);case 7:return e.next=9,a.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return J.apply(this,arguments)}function J(){return(J=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M(t),e.next=3,W();case 3:return a=e.sent,i=a.transaction(V,"readwrite"),o=i.objectStore(V),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(c=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,r);case 17:return e.next=19,i.complete;case 19:return!c||s&&s.fid===c.fid||B(t,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(u.mark((function e(t){var n,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.appConfig,(function(e){var r=ee(e),a=te(t,r);return n=a.registrationPromise,a.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return oe(e||{fid:P(),registrationStatus:0})}function te(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(k.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return ne.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:re(e)}:{installationEntry:t}}function ne(){return(ne=(0,s.Z)(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t,n);case 3:return r=e.sent,e.abrupt("return",q(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!x(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,$(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,q(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(u.mark((function e(t){var n,r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,j(100);case 6:return e.next=8,ie(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Y(t);case 14:if(r=e.sent,a=r.installationEntry,!(i=r.registrationPromise)){e.next=21;break}return e.abrupt("return",i);case 21:return e.abrupt("return",a);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return G(e,(function(e){if(!e)throw k.create("installation-not-found");return oe(e)}))}function oe(e){return 1===(t=e).registrationStatus&&t.registrationTime+g<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function se(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s,c,p,f,l,h,d;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,a=t.heartbeatServiceProvider,i=ue(r,n),o=E(r,n),!(s=a.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return p={installation:{sdkVersion:b,appId:r.appId}},f={method:"POST",headers:o,body:JSON.stringify(p)},e.next=13,D((function(){return fetch(i,f)}));case 13:if(!(l=e.sent).ok){e.next=22;break}return e.next=17,l.json();case 17:return h=e.sent,d=S(h),e.abrupt("return",d);case 22:return e.next=24,_("Generate Auth Token",l);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){var n=t.fid;return"".concat(I(e),"/").concat(n,"/authTokens:generate")}function pe(e){return fe.apply(this,arguments)}function fe(){return fe=(0,s.Z)(u.mark((function e(t){var n,r,a,i,o=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,G(t.appConfig,(function(e){if(!be(e))throw k.create("not-registered");var a=e.authToken;if(!n&&me(a))return e;if(1===a.requestStatus)return r=le(t,n),e;if(!navigator.onLine)throw k.create("app-offline");var i=ye(e);return r=ve(t,i),i}));case 3:if(a=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=a.authToken;case 11:return i=e.t0,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function le(e,t){return he.apply(this,arguments)}function he(){return(he=(0,s.Z)(u.mark((function e(t,n){var r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,j(100);case 6:return e.next=8,de(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(a=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",pe(t,n));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return G(e,(function(e){if(!be(e))throw k.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+g<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ve(e,t){return ge.apply(this,arguments)}function ge(){return(ge=(0,s.Z)(u.mark((function e(t,n){var r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(t,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,q(t.appConfig,a);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!x(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,$(t.appConfig);case 15:e.next=20;break;case 17:return i=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,q(t.appConfig,i);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function be(e){return void 0!==e&&2===e.registrationStatus}function me(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+y}(e)}function ye(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function we(){return(we=(0,s.Z)(u.mark((function e(t){var n,r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Y(n);case 3:return r=e.sent,a=r.installationEntry,(i=r.registrationPromise)?i.catch(console.error):pe(n).catch(console.error),e.abrupt("return",a.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return ke=(0,s.Z)(u.mark((function e(t){var n,r,a,i=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,xe(r);case 4:return e.next=6,pe(r,n);case 6:return a=e.sent,e.abrupt("return",a.token);case 8:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function xe(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(u.mark((function e(t){var n,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return k.create("missing-app-config-values",{valueName:e})}var _e,Ze="installations",Ce=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Se("App Configuration");if(!e.name)throw Se("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Se(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,f.qX)(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Ee=function(e){var t=e.getProvider("app").getImmediate(),n=(0,f.qX)(t,Ze).getImmediate(),r={getId:function(){return function(e){return we.apply(this,arguments)}(n)},getToken:function(e){return function(e){return ke.apply(this,arguments)}(n,e)}};return r};(0,f.Xd)(new l.wA(Ze,Ce,"PUBLIC")),(0,f.Xd)(new l.wA("installations-internal",Ee,"PRIVATE")),(0,f.KN)(d,v),(0,f.KN)(d,v,"esm2017");var De,Ae,Te="/firebase-messaging-sw.js",Oe="/firebase-cloud-messaging-push-scope",je="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ne="google.c.a.c_id";function Pe(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,c.Z)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),a=0;a<n.length;++a)r[a]=n.charCodeAt(a);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(De||(De={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Ae||(Ae={}));var Le="fcm_token_details_db",Be="fcm_token_object_Store";function He(e){return Re.apply(this,arguments)}function Re(){return Re=(0,s.Z)(u.mark((function e(t){var n,r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Le)){e.next=7;break}return e.abrupt("return",null);case 7:return a=null,e.next=10,(0,h.X3)(Le,5,function(){var e=(0,s.Z)(u.mark((function e(n,r,i,o){var s,c,p,f,l,h;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(Be)){e.next=4;break}return e.abrupt("return");case 4:return c=o.objectStore(Be),e.next=7,c.index("fcmSenderId").get(t);case 7:return p=e.sent,e.next=10,c.clear();case 10:if(p){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((f=p).auth&&f.p256dh&&f.endpoint){e.next=16;break}return e.abrupt("return");case 16:a={token:f.fcmToken,createTime:null!==(s=f.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"===typeof f.vapidKey?f.vapidKey:Pe(f.vapidKey)}},e.next=20;break;case 19:3===r?a={token:(l=p).fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Pe(l.auth),p256dh:Pe(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Pe(l.vapidKey)}}:4===r&&(a={token:(h=p).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Pe(h.auth),p256dh:Pe(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Pe(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=14,(0,h.Lj)(Le);case 14:return e.next=16,(0,h.Lj)("fcm_vapid_details_db");case 16:return e.next=18,(0,h.Lj)("undefined");case 18:return e.abrupt("return",Fe(a)?a:null);case 19:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}function Fe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ke="firebase-messaging-store",Ve=null;function ze(){return Ve||(Ve=(0,h.X3)("firebase-messaging-database",1,(function(e,t){if(0===t)e.createObjectStore(Ke)}))),Ve}function We(e){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(u.mark((function e(t){var n,r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je(t),e.next=3,ze();case 3:return r=e.sent,e.next=6,r.transaction(Ke).objectStore(Ke).get(n);case 6:if(!(a=e.sent)){e.next=11;break}return e.abrupt("return",a);case 11:return e.next=13,He(t.appConfig.senderId);case 13:if(!(i=e.sent)){e.next=18;break}return e.next=17,Ue(t,i);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(u.mark((function e(t,n){var r,a,i;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je(t),e.next=3,ze();case 3:return a=e.sent,i=a.transaction(Ke,"readwrite"),e.next=7,i.objectStore(Ke).put(n,r);case 7:return e.next=9,i.complete;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(u.mark((function e(t){var n,r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je(t),e.next=3,ze();case 3:return r=e.sent,a=r.transaction(Ke,"readwrite"),e.next=7,a.objectStore(Ke).delete(n);case 7:return e.next=9,a.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return e.appConfig.appId}var Ye=(_e={},(0,o.Z)(_e,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,o.Z)(_e,"only-available-in-window","This method is available in a Window context."),(0,o.Z)(_e,"only-available-in-sw","This method is available in a service worker context."),(0,o.Z)(_e,"permission-default","The notification permission was not granted and dismissed instead."),(0,o.Z)(_e,"permission-blocked","The notification permission was not granted and blocked instead."),(0,o.Z)(_e,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),(0,o.Z)(_e,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),(0,o.Z)(_e,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),(0,o.Z)(_e,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),(0,o.Z)(_e,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),(0,o.Z)(_e,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),(0,o.Z)(_e,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),(0,o.Z)(_e,"token-update-no-token","FCM returned no token when updating the user to push."),(0,o.Z)(_e,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),(0,o.Z)(_e,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),(0,o.Z)(_e,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),(0,o.Z)(_e,"invalid-vapid-key","The public VAPID key must be a string."),(0,o.Z)(_e,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),_e),Qe=new h.LL("messaging","Messaging",Ye);function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t);case 2:return r=e.sent,a=ut(n),i={method:"POST",headers:r,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch(ot(t.appConfig),i);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Qe.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw c=o.error.message,Qe.create("token-subscribe-failed",{errorInfo:c});case 20:if(o.token){e.next=22;break}throw Qe.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s,c;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t);case 2:return r=e.sent,a=ut(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(a)},e.prev=5,e.next=8,fetch("".concat(ot(t.appConfig),"/").concat(n.token),i);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Qe.create("token-update-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw c=o.error.message,Qe.create("token-update-failed",{errorInfo:c});case 20:if(o.token){e.next=22;break}throw Qe.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function at(e,t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(u.mark((function e(t,n){var r,a,i,o,s;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(t);case 2:return r=e.sent,a={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(ot(t.appConfig),"/").concat(n),a);case 7:return i=e.sent,e.next=10,i.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,Qe.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Qe.create("token-unsubscribe-failed",{errorInfo:e.t0});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function ot(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function st(e){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(u.mark((function e(t){var n,r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return a=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(a)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e){var t=e.p256dh,n=e.auth,r=e.endpoint,a=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return a!==je&&(i.web.applicationPubKey=a),i}var pt=6048e5;function ft(e){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(u.mark((function e(t){var n,r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Pe(n.getKey("auth")),p256dh:Pe(n.getKey("p256dh"))},e.next=6,We(t.firebaseDependencies);case 6:if(a=e.sent){e.next=11;break}return e.abrupt("return",bt(t.firebaseDependencies,r));case 11:if(kt(a.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,at(t.firebaseDependencies,a.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",bt(t.firebaseDependencies,r));case 23:if(!(Date.now()>=a.createTime+pt)){e.next=27;break}return e.abrupt("return",vt(t,{token:a.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",a.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(u.mark((function e(t){var n,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,at(t.firebaseDependencies,n.token);case 6:return e.next=8,Xe(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(u.mark((function e(t,n){var r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt(t.firebaseDependencies,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Ue(t.firebaseDependencies,a);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,ht(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function bt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(u.mark((function e(t,n){var r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(t,n);case 2:return r=e.sent,a={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Ue(t,a);case 6:return e.abrupt("return",a.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(u.mark((function e(t,n){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,a=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&r&&a&&i}function xt(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var a=t.notification.image;a&&(e.notification.image=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function It(e){return"object"===typeof e&&!!e&&Ne in e}function St(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function _t(e){return Qe.create("missing-app-config-values",{valueName:e})}St("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),St("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Zt=function(){function e(t,n,r){(0,a.Z)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw _t("App Configuration Object");if(!e.name)throw _t("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var a=r[n];if(!t[a])throw _t(a)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return(0,i.Z)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Ct(e){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(u.mark((function e(t){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(Te,{scope:Oe});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Qe.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Dt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,Ct(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Qe.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=je);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Qe.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Qe.create("permission-blocked");case 7:return e.next=9,Tt(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,Dt(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",ft(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e,t,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(u.mark((function e(t,n,r){var a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lt(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(a,{message_id:r["google.c.a.c_id"],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e){switch(e){case Ae.NOTIFICATION_CLICKED:return"notification_open";case Ae.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bt(){return(Bt=(0,s.Z)(u.mark((function e(t,n){var r,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===Ae.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(xt(r)):t.onMessageHandler.next(xt(r))),!It(a=r.data)||"1"!==a["google.c.a.e"]){e.next=8;break}return e.next=8,Pt(t,r.messageType,a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ht="@firebase/messaging",Rt="0.9.12",Ft=function(e){var t=new Zt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return Bt.apply(this,arguments)}(t,e)})),t},Kt=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return jt(t,e)}}};function Vt(){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(u.mark((function e(){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.eu)();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return e.abrupt("return","undefined"!==typeof window&&(0,h.hl)()&&(0,h.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.Mq)();return Vt().then((function(e){if(!e)throw Qe.create("unsupported-browser")}),(function(e){throw Qe.create("indexed-db-unsupported")})),(0,f.qX)((0,h.m9)(e),"messaging").getImmediate()}function qt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(u.mark((function e(t,n){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.m9)(t),e.abrupt("return",jt(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e,t){return function(e,t){if(!navigator)throw Qe.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=(0,h.m9)(e),t)}(0,f.Xd)(new l.wA("messaging",Ft,"PUBLIC")),(0,f.Xd)(new l.wA("messaging-internal",Kt,"PRIVATE")),(0,f.KN)(Ht,Rt),(0,f.KN)(Ht,Rt,"esm2017")},86886:function(e,t,n){var r=n(72791);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var i=["cdnSuffix","cdnUrl","countryCode","style","svg"];t.Z=function(e){var t=e.cdnSuffix,n=void 0===t?"svg":t,o=e.cdnUrl,s=void 0===o?"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.4/flags/4x3/":o,c=e.countryCode,u=e.style,p=e.svg,f=void 0!==p&&p,l=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,i);if("string"!==typeof c)return null;if(f){var h=""+s+c.toLowerCase()+"."+n;return(0,r.createElement)("img",Object.assign({},l,{src:h,style:a({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},u)}))}var d=c.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return(0,r.createElement)("span",Object.assign({role:"img"},l,{style:a({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},u)}),d)}},98737:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(61120),a=n(89611);var i=n(78814);function o(e,t,n){return o=(0,i.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,a.Z)(i,n.prototype),i},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,(0,r.Z)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,a.Z)(i,e)},s(e)}},10625:function(e,t,n){n.d(t,{qX:function(){return O},Xd:function(){return T},Mq:function(){return L},ZF:function(){return M},KN:function(){return B}});var r,a,i=n(42982),o=n(15861),s=n(37762),c=n(4942),u=n(15671),p=n(43144),f=n(87757),l=n(23258),h=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));var d={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},v=a.INFO,g=(r={},(0,c.Z)(r,a.DEBUG,"log"),(0,c.Z)(r,a.VERBOSE,"log"),(0,c.Z)(r,a.INFO,"info"),(0,c.Z)(r,a.WARN,"warn"),(0,c.Z)(r,a.ERROR,"error"),r),b=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=g[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},m=function(){function e(t){(0,u.Z)(this,e),this.name=t,this._logLevel=v,this._logHandler=b,this._userLogHandler=null,h.push(this)}return(0,p.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?d[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.DEBUG].concat(t)),this._logHandler.apply(this,[this,a.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.VERBOSE].concat(t)),this._logHandler.apply(this,[this,a.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.INFO].concat(t)),this._logHandler.apply(this,[this,a.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.WARN].concat(t)),this._logHandler.apply(this,[this,a.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.ERROR].concat(t)),this._logHandler.apply(this,[this,a.ERROR].concat(t))}}]),e}();var y,w,k=n(85854),x=function(){function e(t){(0,u.Z)(this,e),this.container=t}return(0,p.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var I="@firebase/app",S="0.7.21",_=new m("@firebase/app"),Z="[DEFAULT]",C=(y={},(0,c.Z)(y,I,"fire-core"),(0,c.Z)(y,"@firebase/app-compat","fire-core-compat"),(0,c.Z)(y,"@firebase/analytics","fire-analytics"),(0,c.Z)(y,"@firebase/analytics-compat","fire-analytics-compat"),(0,c.Z)(y,"@firebase/app-check","fire-app-check"),(0,c.Z)(y,"@firebase/app-check-compat","fire-app-check-compat"),(0,c.Z)(y,"@firebase/auth","fire-auth"),(0,c.Z)(y,"@firebase/auth-compat","fire-auth-compat"),(0,c.Z)(y,"@firebase/database","fire-rtdb"),(0,c.Z)(y,"@firebase/database-compat","fire-rtdb-compat"),(0,c.Z)(y,"@firebase/functions","fire-fn"),(0,c.Z)(y,"@firebase/functions-compat","fire-fn-compat"),(0,c.Z)(y,"@firebase/installations","fire-iid"),(0,c.Z)(y,"@firebase/installations-compat","fire-iid-compat"),(0,c.Z)(y,"@firebase/messaging","fire-fcm"),(0,c.Z)(y,"@firebase/messaging-compat","fire-fcm-compat"),(0,c.Z)(y,"@firebase/performance","fire-perf"),(0,c.Z)(y,"@firebase/performance-compat","fire-perf-compat"),(0,c.Z)(y,"@firebase/remote-config","fire-rc"),(0,c.Z)(y,"@firebase/remote-config-compat","fire-rc-compat"),(0,c.Z)(y,"@firebase/storage","fire-gcs"),(0,c.Z)(y,"@firebase/storage-compat","fire-gcs-compat"),(0,c.Z)(y,"@firebase/firestore","fire-fst"),(0,c.Z)(y,"@firebase/firestore-compat","fire-fst-compat"),(0,c.Z)(y,"fire-js","fire-js"),(0,c.Z)(y,"firebase","fire-js-all"),y),E=new Map,D=new Map;function A(e,t){try{e.container.addComponent(t)}catch(n){_.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function T(e){var t=e.name;if(D.has(t))return _.debug("There were multiple attempts to register component ".concat(t,".")),!1;D.set(t,e);var n,r=(0,s.Z)(E.values());try{for(r.s();!(n=r.n()).done;){A(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function O(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var j=(w={},(0,c.Z)(w,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,c.Z)(w,"bad-app-name","Illegal App name: '{$appName}"),(0,c.Z)(w,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,c.Z)(w,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,c.Z)(w,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,c.Z)(w,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,c.Z)(w,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,c.Z)(w,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,c.Z)(w,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,c.Z)(w,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),w),N=new k.LL("app","Firebase",j),P=function(){function e(t,n,r){var a=this;(0,u.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l.wA("app",(function(){return a}),"PUBLIC"))}return(0,p.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}}]),e}();function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Z,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw N.create("bad-app-name",{appName:String(a)});var i=E.get(a);if(i){if((0,k.vZ)(e,i.options)&&(0,k.vZ)(r,i.config))return i;throw N.create("duplicate-app",{appName:a})}var o,c=new l.H0(a),u=(0,s.Z)(D.values());try{for(u.s();!(o=u.n()).done;){var p=o.value;c.addComponent(p)}}catch(h){u.e(h)}finally{u.f()}var f=new P(e,r,c);return E.set(a,f),f}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=E.get(e);if(!t)throw N.create("no-app",{appName:e});return t}function B(e,t,n){var r,a=null!==(r=C[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _.warn(s.join(" "))}T(new l.wA("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}var H="firebase-heartbeat-store",R=null;function F(){return R||(R=(0,k.X3)("firebase-heartbeat-database",1,(function(e,t){if(0===t)e.createObjectStore(H)})).catch((function(e){throw N.create("storage-open",{originalErrorMessage:e.message})}))),R}function K(e){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:return n=e.sent,e.abrupt("return",n.transaction(H).objectStore(H).get(q(t)));case 7:throw e.prev=7,e.t0=e.catch(0),N.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function z(e,t){return W.apply(this,arguments)}function W(){return(W=(0,o.Z)(f.mark((function e(t,n){var r,a,i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:return r=e.sent,a=r.transaction(H,"readwrite"),i=a.objectStore(H),e.next=8,i.put(n,q(t));case 8:return e.abrupt("return",a.complete);case 11:throw e.prev=11,e.t0=e.catch(0),N.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function q(e){return"".concat(e.name,"!").concat(e.options.appId)}var U=function(){function e(t){var n=this;(0,u.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new J(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,p.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,o.Z)(f.mark((function e(){var t,n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,o.Z)(f.mark((function e(){var t,n,r,a,i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$(),n=X(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,i=(0,k.L)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $(){return(new Date).toISOString().substring(0,10)}function X(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],a=e.slice(),i=(0,s.Z)(e);try{var o=function(){var e=t.value,i=r.find((function(t){return t.agent===e.agent}));if(i){if(i.dates.push(e.date),Y(r)>n)return i.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Y(r)>n)return r.pop(),"break";a=a.slice(1)};for(i.s();!(t=i.n()).done;){var c=o();if("break"===c)break}}catch(u){i.e(u)}finally{i.f()}return{heartbeatsToSend:r,unsentEntries:a}}var G,J=function(){function e(t){(0,u.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,p.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,o.Z)(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,k.hl)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,k.eu)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,o.Z)(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,K(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,o.Z)(f.mark((function e(t){var n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",z(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,o.Z)(f.mark((function e(t){var n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",z(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,i.Z)(r.heartbeats),(0,i.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Y(e){return(0,k.L)(JSON.stringify({version:2,heartbeats:e})).length}G="",T(new l.wA("platform-logger",(function(e){return new x(e)}),"PRIVATE")),T(new l.wA("heartbeat",(function(e){return new U(e)}),"PRIVATE")),B(I,S,G),B(I,S,"esm2017"),B("fire-js","")},23258:function(e,t,n){n.d(t,{H0:function(){return d},wA:function(){return f}});var r=n(42982),a=n(15861),i=n(70885),o=n(37762),s=n(15671),c=n(43144),u=n(87757),p=n(85854),f=function(){function e(t,n,r){(0,s.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),l="[DEFAULT]",h=function(){function e(t,n){(0,s.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new p.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(p){}var t,n=(0,o.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],s=r[1],c=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:c});s.resolve(u)}catch(p){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,a.Z)(u.mark((function e(){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,r.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,r.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,s=this.getOrInitializeService({instanceIdentifier:r,options:n}),c=(0,o.Z)(this.instancesDeferred.entries());try{for(c.s();!(a=c.n()).done;){var u=(0,i.Z)(a.value,2),p=u[0],f=u[1],l=this.normalizeInstanceIdentifier(p);r===l&&f.resolve(s)}}catch(h){c.e(h)}finally{c.f()}return s}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(s){}}}catch(c){a.e(c)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(o){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.component?this.component.multipleInstances?e:l:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var d=function(){function e(t){(0,s.Z)(this,e),this.name=t,this.providers=new Map}return(0,c.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new h(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()}}]);
//# sourceMappingURL=1414.b6b35df9.chunk.js.map