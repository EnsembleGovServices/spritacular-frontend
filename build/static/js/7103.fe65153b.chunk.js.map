{"version":3,"file":"static/js/7103.fe65153b.chunk.js","mappings":"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","sources":["helpers/observation.js","pages/Observation/ObservationDetails.jsx"],"sourcesContent":["export const Tabs = {\r\n    ObservationImages : \"ObservationImages\",\r\n    DateTimeLocation : \"DateTimeLocation\",\r\n    EquipmentDetails : \"EquipmentDetails\",\r\n}\r\n\r\nexport const MultiImageTabs = {\r\n    MultipleImages: \"MultipleImages\",\r\n    ImageSequence: \"ImageSequence\"\r\n}\r\n\r\nexport const imageDetails = {\r\n    Details : \"Details\",\r\n    Equipment : \"Equipment\",\r\n    Comments : \"Comments\",\r\n}\r\n\r\nexport const obvType = {\r\n    default: \"verified\",\r\n    verified : \"verified\",\r\n    unverified: \"unverified\",\r\n    denied: \"denied\",\r\n    draft: \"draft\"\r\n}\r\n\r\nexport const masonryConfig = (selector, width, gutter, fit=false, transition) => {\r\n    return {\r\n        columnWidth: width,\r\n        gutter: gutter,\r\n        itemSelector: selector,\r\n        fitWidth: false,\r\n        transitionDuration: transition,\r\n    }\r\n}\r\n\r\nexport const uploadImageDefaultState = (random, baseImage, item, userLocation) => {\r\n    return {\r\n        id : random,\r\n        sameAsFirstMap: false,\r\n        sameAsFirstDate: false,\r\n        image : baseImage,\r\n        lastModified: item?.lastModified,\r\n        name: item?.name,\r\n        item: item,\r\n        latitude: userLocation ? userLocation.latitude : 28.5204,\r\n        longitude: userLocation ? userLocation.longitude : 25.8567,\r\n        location: 'Pune, Maharashtra, India',\r\n        country_code: 'IN',\r\n        obs_date: null,\r\n        obs_time: null,\r\n        timezone: 'Africa/Abidjan',\r\n        azimuth: 360,\r\n        time_accuracy:'',\r\n        is_precise_azimuth:0,\r\n        category_map: {\r\n            category: [],\r\n            is_other: false,\r\n            other_value: ''\r\n        }\r\n    }\r\n}\r\n\r\nexport const directionValue = [\r\n    {name: 'N', angle: 360, default : true},\r\n    {name: 'NE', angle: 45, default : false},\r\n    {name: 'E', angle: 90, default : false},\r\n    {name: 'SE', angle: 135, default : false},\r\n    {name: 'S', angle: 180, default : false},\r\n    {name: 'SW', angle: 235, default : false},\r\n    {name: 'W', angle: 270, default : false},\r\n    {name: 'NW', angle: 315, default : false},\r\n]\r\n\r\nexport const getdirectionDegree = (key) => {\r\n    \r\n    let degree;\r\n    switch (key) {\r\n        case 'N':\r\n            degree = 360;\r\n            break;\r\n        case 'NE':\r\n            degree = 45;\r\n            break;\r\n        case 'E':\r\n            degree = 90;\r\n            break;\r\n        case 'SE':\r\n            degree = 135;\r\n            break;\r\n        case 'S':\r\n            degree = 180;\r\n            break;\r\n        case 'SW':\r\n            degree = 235;\r\n            break;\r\n        case 'W':\r\n            degree = 270;\r\n            break;\r\n        case 'NW':\r\n            degree = 315;\r\n            break;\r\n    \r\n        default:\r\n            degree = key;\r\n            break;\r\n    }\r\n    return degree\r\n}\r\n\r\nexport const getdirectionAngle = (key) => {\r\n    \r\n    let angle;\r\n    switch (key) {\r\n        case 360:\r\n            angle = 'N';\r\n            break;\r\n        case 45:\r\n            angle = 'NE';\r\n            break;\r\n        case 90:\r\n            angle = 'E';\r\n            break;\r\n        case 135:\r\n            angle = 'SE';\r\n            break;\r\n        case 180:\r\n            angle = 'S';\r\n            break;\r\n        case 235:\r\n            angle = 'SW';\r\n            break;\r\n        case 270:\r\n            angle = 'W';\r\n            break;\r\n        case 315:\r\n            angle = 'NW';\r\n            break;\r\n    \r\n        default:\r\n            angle = 'N';\r\n            break;\r\n    }\r\n    return angle\r\n}","import \"../../assets/scss/component/observationDetails.scss\";\r\nimport {lazy, Suspense, useEffect, useRef, useState} from \"react\";\r\nimport {\r\n    Badge,\r\n    Button,\r\n    Col,\r\n    Modal,\r\n    ModalBody,\r\n    ModalHeader,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    Row,\r\n    Spinner,\r\n    TabContent,\r\n    TabPane,\r\n} from \"reactstrap\";\r\n\r\nimport {Icon} from \"@iconify/react\";\r\nimport Tippy from \"@tippyjs/react\";\r\nimport useObservationsData from \"../../hooks/useObservationsData\";\r\n\r\nimport Images from \"./../../static/images\";\r\nimport {imageDetails} from \"../../helpers/observation\";\r\nimport Loader from \"../../components/Shared/Loader\";\r\nimport axios from \"../../api/axios\";\r\nimport {baseURL, routeUrls} from \"../../helpers/url\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport {PropTypes} from \"prop-types\";\r\nimport {useLocation} from \"react-router-dom\";\r\n\r\nconst ObservationMoreDetails = lazy(() => import(\"../../components/Observation/ObservationDetails/ObservationMoreDetails\"));\r\nconst ObservationMoreEquipementDetails = lazy(() => import(\"../../components/Observation/ObservationDetails/ObservationMoreEquipementDetails\"));\r\nconst Comments = lazy(() => import(\"../../components/Observation/ObservationDetails/Comments\"));\r\nconst CardImageCarousel = lazy(() => import(\"../../components/Shared/CardImageCarousel\"));\r\n\r\nconst ObservationDetails = (props) => {\r\n    const {auth} = useAuth();\r\n    const location = useLocation();\r\n    const {\r\n        modalClass,\r\n        open,\r\n        handleClose,\r\n        data,\r\n        activeType,\r\n        handleContinueEdit,\r\n        handleApproveRejectEvent,\r\n        refreshData\r\n    } = props;\r\n\r\n    const [activeTab, setActiveImageTab] = useState(imageDetails.Details);\r\n    const {observationComments, setObservationListData, observationListData} = useObservationsData();\r\n    const obvDetailsModal = useRef(null);\r\n    const [isImageNull, setIsImageNull] = useState(true);\r\n\r\n    const intervalRef = useRef();\r\n\r\n    // Toggle Tabs\r\n    const toggleImageDetailsTab = (tab) => {\r\n        if (activeTab !== tab) {\r\n            setActiveImageTab(tab);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setActiveImageTab(imageDetails.Details);\r\n    }, [open, data?.id]);\r\n\r\n    // Fetch image for observation for null checking\r\n\r\n    const checkNulledImage = async () => {\r\n        return await axios\r\n            .post(\r\n                baseURL.api + \"/observation/get_observation_details/\" + data?.id + \"/\",\r\n                null,\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${auth?.token?.access}`,\r\n                    },\r\n                }\r\n            )\r\n            .then((response) => {\r\n                setIsImageNull(response?.data?.data?.includes(null));\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (open && data?.id && isImageNull && auth?.user?.id) {\r\n            intervalRef.current = setInterval(() => {\r\n                checkNulledImage().then((r) => r);\r\n            }, 1000);\r\n\r\n            return () => {\r\n                clearInterval(intervalRef.current);\r\n            };\r\n        } else if (open && data?.id && isImageNull && !auth?.user?.id) {\r\n            setTimeout(function () {\r\n                setIsImageNull(false);\r\n            }, 1000)\r\n        }\r\n    }, [data?.id, isImageNull, open, auth?.user]);\r\n\r\n    useEffect(() => {\r\n        if (!isImageNull && location.pathname === `/${routeUrls.myObservations}`) {\r\n            refreshData(true, activeType);\r\n        }\r\n\r\n    }, [isImageNull, location]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isImageNull) {\r\n            observationListData?.list?.filter(item => {\r\n                return item.id === observationListData?.active?.id\r\n            }).map(item => {\r\n                return setObservationListData((prev) => {\r\n                    return {\r\n                        ...prev,\r\n                        active: item\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }, [observationListData.list])\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                className={modalClass ? modalClass : \"\"}\r\n                isOpen={open}\r\n                backdrop={true}\r\n                keyboard={false}\r\n                scrollable={false}\r\n                size=\"xl\"\r\n                toggle={handleClose}\r\n                ref={obvDetailsModal}\r\n            >\r\n                <ModalHeader className=\"d-flex justify-content-between align-items-center w-100\">\r\n                    <div>\r\n                        <Button\r\n                            className=\"close-icon bg-transparent rounded-0 border-0 shadow-none p-0 me-3\"\r\n                            onClick={() => handleClose()}\r\n                        >\r\n                            <img src={Images.Modalcloseicon} alt=\"close-icon\"/>\r\n                        </Button>\r\n                        {data?.category_data?.[0] ? data?.category_data?.[0]?.name : null}\r\n                        <Badge\r\n                            className={`text-uppercase ${\r\n                                activeType === \"verified\" ? \"badge-success\" : \"\"\r\n                            }`}\r\n                        >\r\n                            {activeType === \"verified\" && (\r\n                                <Icon\r\n                                    icon=\"mdi:check-decagram\"\r\n                                    color=\"#27ae60\"\r\n                                    className=\"me-1\"\r\n                                    width=\"13\"\r\n                                    height=\"13\"\r\n                                />\r\n                            )}\r\n                            {activeType}\r\n                        </Badge>\r\n                    </div>\r\n\r\n                    {activeType === \"draft\" && (\r\n                        <div>\r\n                            <Button\r\n                                variant=\"primary\"\r\n                                onClick={() =>\r\n                                    handleContinueEdit({id: data?.id, type: activeType})\r\n                                }\r\n                            >\r\n                                Continue Editing\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <Row>\r\n                        <Col md={6}>\r\n                            <div className=\"mb-4 mb-md-0 h-100\">\r\n                                <div className=\"preview-detail mb-3 mb-md-2\">\r\n                                    {!(data?.image_type === 3) &&\r\n                                        (data?.images?.length === 0 ? (\r\n                                            <img\r\n                                                src={Images.NotAvailable}\r\n                                                alt=\"No available\"\r\n                                                className=\"object-contain img-fluid\"\r\n                                            />\r\n                                        ) : !isImageNull ? (\r\n                                            <img\r\n                                                src={data?.images?.[0]?.image}\r\n                                                alt=\"card details\"\r\n                                                className=\"img-fluid\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div\r\n                                                className=\"d-flex flex-column h-100 align-items-center justify-content-center bg-gradient bg-light\">\r\n                                                <Spinner color=\"primary\" size=\"20px\"/>\r\n                                                <h5 className=\"mt-3\">Processing image...</h5>\r\n                                            </div>\r\n                                        ))}\r\n                                    {data?.image_type === 3 && (\r\n                                        <Suspense fallback={<Loader fixContent={true}/>}>\r\n                                            <CardImageCarousel\r\n                                                carouselData={data?.images}\r\n                                                detail={true}\r\n                                            />\r\n                                        </Suspense>\r\n                                    )}\r\n                                </div>\r\n                                <Row>\r\n                                    <Col\r\n                                        sm={6}\r\n                                        className=\"justify-content-start d-flex align-items-center mb-2 mb-sm-0\"\r\n                                    >\r\n                                        <div className=\"d-flex card-user_details align-items-center overflow-hidden\">\r\n                                            <i className=\"profile-icon rounded-circle\">\r\n                                                <img\r\n                                                    width=\"100%\"\r\n                                                    height=\"100%\"\r\n                                                    src={\r\n                                                        data?.user_data?.profile_image\r\n                                                            ? data?.user_data?.profile_image\r\n                                                            : Images.DefaultProfile\r\n                                                    }\r\n                                                    alt=\"Profile\"\r\n                                                    className=\"rounded-circle\"\r\n                                                />\r\n                                            </i>\r\n                                            <h5 className=\"pe-2 mb-0 text-truncate fw-normal text-black\">\r\n                                                {data?.user_data?.first_name +\r\n                                                    \" \" +\r\n                                                    data?.user_data?.last_name}\r\n                                            </h5>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col\r\n                                        sm={6}\r\n                                        className=\"justify-content-end d-flex align-items-center\"\r\n                                    >\r\n                                        <div className=\"observation_type d-flex align-items-center\">\r\n                                            {data?.category_data?.length > 0 &&\r\n                                                data?.category_data?.map((item, index) => {\r\n                                                    return (\r\n                                                        <i\r\n                                                            id={item?.name?.toLowerCase().replaceAll(\" \", \"\")}\r\n                                                            className=\"rounded-circle bg-white ms-2 cursor-pointer\"\r\n                                                            key={index}\r\n                                                        >\r\n                                                            <Tippy\r\n                                                                animation=\"perspective\"\r\n                                                                content={item?.name}\r\n                                                            >\r\n                                                                <img\r\n                                                                    src={`/assets/images/category/${item?.name\r\n                                                                        ?.toLowerCase()\r\n                                                                        .replaceAll(\" \", \"\")}.png`}\r\n                                                                    alt={item?.name}\r\n                                                                />\r\n                                                            </Tippy>\r\n                                                        </i>\r\n                                                    );\r\n                                                })}\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </div>\r\n                        </Col>\r\n                        <Col md={6}>\r\n                            <Nav tabs>\r\n                                <NavItem>\r\n                                    <NavLink\r\n                                        className={\r\n                                            activeTab === imageDetails.Details ? \"active\" : \"\"\r\n                                        }\r\n                                        onClick={() => {\r\n                                            toggleImageDetailsTab(imageDetails.Details);\r\n                                        }}\r\n                                    >\r\n                                        Details\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <NavLink\r\n                                        className={\r\n                                            activeTab === imageDetails.Equipment ? \"active\" : \"\"\r\n                                        }\r\n                                        onClick={() => {\r\n                                            toggleImageDetailsTab(imageDetails.Equipment);\r\n                                        }}\r\n                                    >\r\n                                        Equipment\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                                <NavItem>\r\n                                    <NavLink\r\n                                        className={\r\n                                            activeTab === imageDetails.Comments ? \"active\" : \"\"\r\n                                        }\r\n                                        onClick={() => {\r\n                                            toggleImageDetailsTab(imageDetails.Comments);\r\n                                        }}\r\n                                    >\r\n                                        Comments{\" \"}\r\n                                        {observationComments?.comment_count === 0\r\n                                            ? \"\"\r\n                                            : `(${observationComments?.comment_count})`}\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                            </Nav>\r\n                            <TabContent activeTab={activeTab}>\r\n                                <TabPane tabId={imageDetails.Details}>\r\n                                    <Suspense fallback={<div>please wait...</div>}>\r\n                                        <ObservationMoreDetails\r\n                                            handlePopup={handleClose}\r\n                                            approveRejectEvent={handleApproveRejectEvent}\r\n                                            obvCommentCount={observationComments?.comment_count}\r\n                                            data={data}\r\n                                            activeType={activeType}\r\n                                        />\r\n                                    </Suspense>\r\n                                </TabPane>\r\n                                <TabPane tabId={imageDetails.Equipment}>\r\n                                    <Suspense fallback={<div>please wait...</div>}>\r\n                                        <ObservationMoreEquipementDetails\r\n                                            obvCommentCount={observationComments?.comment_count}\r\n                                            data={data?.camera_data}\r\n                                        />\r\n                                    </Suspense>\r\n                                </TabPane>\r\n                                <TabPane tabId={imageDetails.Comments}>\r\n                                    <Suspense fallback={<div>please wait...</div>}>\r\n                                        <Comments obvId={data?.id}/>\r\n                                    </Suspense>\r\n                                </TabPane>\r\n                            </TabContent>\r\n                        </Col>\r\n                    </Row>\r\n                </ModalBody>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nObservationDetails.propTypes = {\r\n    hasNulledImage: PropTypes.func,\r\n    refreshData: PropTypes.func\r\n};\r\n\r\nexport default ObservationDetails;\r\n"],"names":["Tabs","ObservationImages","DateTimeLocation","EquipmentDetails","MultiImageTabs","MultipleImages","ImageSequence","imageDetails","Details","Equipment","Comments","obvType","default","verified","unverified","denied","draft","uploadImageDefaultState","random","baseImage","item","userLocation","id","sameAsFirstMap","sameAsFirstDate","image","lastModified","name","latitude","longitude","location","country_code","obs_date","obs_time","timezone","azimuth","time_accuracy","is_precise_azimuth","category_map","category","is_other","other_value","directionValue","angle","getdirectionDegree","key","degree","getdirectionAngle","ObservationMoreDetails","lazy","ObservationMoreEquipementDetails","CardImageCarousel","props","auth","useAuth","useLocation","modalClass","open","handleClose","data","activeType","handleContinueEdit","handleApproveRejectEvent","refreshData","useState","activeTab","setActiveImageTab","useObservationsData","observationComments","setObservationListData","observationListData","obvDetailsModal","useRef","isImageNull","setIsImageNull","intervalRef","toggleImageDetailsTab","tab","useEffect","checkNulledImage","axios","baseURL","headers","Authorization","token","access","then","response","includes","catch","error","console","log","user","current","setInterval","r","clearInterval","setTimeout","pathname","routeUrls","list","filter","active","map","prev","className","isOpen","backdrop","keyboard","scrollable","size","toggle","ref","onClick","src","Images","alt","category_data","icon","color","width","height","variant","type","md","image_type","images","length","Suspense","fallback","Loader","fixContent","carouselData","detail","sm","user_data","profile_image","first_name","last_name","index","toLowerCase","replaceAll","animation","content","tabs","comment_count","tabId","handlePopup","approveRejectEvent","obvCommentCount","camera_data","obvId"],"sourceRoot":""}