"use strict";(self.webpackChunkspritacular_frontend=self.webpackChunkspritacular_frontend||[]).push([[4889,2048],{22048:function(n,e,s){s.r(e);var r=s(4942),l=s(1413),o=s(74165),d=s(15861),a=s(70885),i=s(72791),t=s(7788),c=s(74569),u=s.n(c),p=s(74551),h=s(52007),v=s.n(h),x=s(46971),m=s(80184);x.Z.propTypes={passwordMatchCheck:v().bool},e.default=function(n){var e,s=n.user,c=(0,i.useState)(null),h=(0,a.Z)(c,2),v=h[0],x=h[1],j=(0,i.useState)(!1),f=(0,a.Z)(j,2),w=f[0],b=f[1],g=(0,i.useState)(null),Z=(0,a.Z)(g,2),C=Z[0],k=Z[1],_=function(){var n=(0,d.Z)((0,o.Z)().mark((function n(e){var r,l;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),k(""),b(""),n.next=5,u().put(p.v2.api+"/users/change-password/"+(null===s||void 0===s||null===(r=s.user)||void 0===r?void 0:r.id)+"/",v,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===s||void 0===s||null===(l=s.token)||void 0===l?void 0:l.access)},withCredentials:!0}).then((function(n){b(null===n||void 0===n?void 0:n.data),k("")})).catch((function(n){var e;k(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.data)}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(n){n.preventDefault();var e=n.target.name,s=n.target.value;x((0,l.Z)((0,l.Z)({},v),{},(0,r.Z)({},e,s)))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(t.l0,{onSubmit:_,children:(0,m.jsxs)(t.X2,{children:[(0,m.jsxs)(t.JX,{sm:12,children:[(null===C||void 0===C?void 0:C.detail)&&(0,m.jsx)(t.bZ,{color:"danger",children:null===C||void 0===C?void 0:C.detail}),(null===C||void 0===C?void 0:C.details)&&(0,m.jsx)(t.bZ,{color:"danger",children:(0,m.jsx)("ul",{className:"small mb-0 ps-2",children:null===C||void 0===C?void 0:C.details.map((function(n,e){return(0,m.jsx)("li",{children:n},e)}))})}),w&&(0,m.jsx)(t.bZ,{color:"success",children:null===w||void 0===w?void 0:w.message})]}),(0,m.jsx)(t.JX,{md:12,children:(0,m.jsx)(t.cw,{children:(0,m.jsx)(t.II,{type:"password",name:"old_password",placeholder:"Old Password",required:!0,onChange:function(n){return y(n)}})})}),(0,m.jsx)(t.JX,{md:12,children:(0,m.jsx)(t.cw,{children:(0,m.jsx)(t.II,{type:"password",name:"new_password",placeholder:"New Password",required:!0,onChange:function(n){return y(n)}})})}),(0,m.jsx)(t.JX,{md:12,children:(0,m.jsxs)(t.cw,{children:[(0,m.jsx)(t.II,{type:"password",name:"confirm_password",placeholder:"Confirm New Password",required:!0,onChange:function(n){return y(n)}}),(null===C||void 0===C?void 0:C.new_password)&&(0,m.jsx)("span",{className:"text-danger small mt-2 d-block",children:null===C||void 0===C||null===(e=C.new_password)||void 0===e?void 0:e.map((function(n,e){return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:n}),(0,m.jsx)("br",{})]},e)}))})]})}),(0,m.jsx)(t.JX,{md:12,children:(0,m.jsx)(t.zx,{type:"submit",className:"modal-btn mb-3",disabled:(null===v||void 0===v?void 0:v.confirm_password)!==(null===v||void 0===v?void 0:v.new_password)||""===(null===v||void 0===v?void 0:v.old_password),children:"Update Password"})})]})})})}},46971:function(n,e,s){var r=s(7788),l=s(47604),o=(s(37084),s(72791)),d=s(80184),a=(0,o.lazy)((function(){return s.e(2048).then(s.bind(s,22048))}));e.Z=function(n){var e=n.open,s=n.handleClose,i=n.modalClass,t=n.data;return(0,d.jsxs)(r.u_,{className:i||"common-modal",isOpen:e,toggle:s,centered:!0,backdrop:!0,keyboard:!1,children:[(0,d.jsxs)(r.xB,{className:"text-center justify-content-center",children:["Change Password",(0,d.jsx)(r.zx,{className:"close-icon",onClick:function(){return s()},children:(0,d.jsx)("img",{src:l.Z.Modalcloseicon,alt:"close-icon"})})]}),(0,d.jsx)(r.fe,{children:(0,d.jsx)(o.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsx)(a,{user:t})})})]})}},37084:function(){}}]);
//# sourceMappingURL=4889.4a277bcc.chunk.js.map